(self.webpackChunkmaterialpro=self.webpackChunkmaterialpro||[]).push([[358],{5358:function(e,t,n){"use strict";n.r(t),n.d(t,{AdminModule:function(){return He}});var a=n(61116),i=n(29996),r=n(35366);let o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p"),r["\u0275\u0275text"](1," dashboard works!\n"),r["\u0275\u0275elementEnd"]())},styles:[""]}),e})();class l{constructor(e,t,n){this.name=e,this.email=t,this.password=n}}var s=n(16236);class c{constructor(){this.type="[Admin] GET_USERS"}}class d{constructor(e){this.payload=e,this.type="[Admin] GET_USERS_SUCCESS"}}class m{constructor(){this.type="[Admin] GET_USERS_ERROR"}}class p{constructor(e){this.payload=e,this.type="[Admin] ASSIGN_ROLE"}}class u{constructor(e){this.payload=e,this.type="[Admin] ASSIGN_ROLE_SUCCESS"}}class g{constructor(){this.type="[Admin] ASSIGN_ROLE_ERROR"}}class f{constructor(e){this.payload=e,this.type="[Admin] REMOVE_ROLE"}}class h{constructor(e){this.payload=e,this.type="[Admin] REMOVE_ROLE_SUCCESS"}}class b{constructor(){this.type="[Admin] REMOVE_ROLE_ERROR"}}class x{constructor(e){this.payload=e,this.type="[Admin] CREATE_USER"}}class _{constructor(e){this.payload=e,this.type="[Admin] CREATE_USER_SUCCESS"}}class S{constructor(){this.type="[Admin] CREATE_USER_ERROR"}}class v{constructor(e){this.payload=e,this.type="[Admin] UPDATE_USER"}}class E{constructor(e){this.payload=e,this.type="[Admin] UPDATE_USER_SUCCESS"}}class w{constructor(){this.type="[Admin] UPDATE_USER_ERROR"}}var y=n(92935),C=n(529),O=n(42693);let M=(()=>{class e{constructor(e){this.http=e,this.apiUrl=C.N.apiUrl}getUsers(){return this.http.get(this.apiUrl+"management-console/users")}getRoles(){return this.http.get(this.apiUrl+"management-console/user/get-roles")}assignRole(e){return this.http.put(this.apiUrl+"management-console/user/assign-role",e)}removeRole(e){return this.http.put(this.apiUrl+"management-console/user/remove-role",e)}createUser(e){return this.http.post(this.apiUrl+"management-console/user/create",e)}updateUser(e){return this.http.put(this.apiUrl+"management-console/user/update",e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](O.eN))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=n(55959),P=n(25416),R=n(10229),U=n(35965),I=n(84369),A=n(24311),T=n(77307);function j(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",14),r["\u0275\u0275elementStart"](1,"div",15),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",16),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",17),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",18),r["\u0275\u0275elementStart"](8,"button",19),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).$implicit;return r["\u0275\u0275nextContext"](2).assignRole(t.id)}),r["\u0275\u0275elementStart"](9,"mat-icon",20),r["\u0275\u0275text"](10,"add"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275classProp"]("role_assigned",n.userHasRole(e.name)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.display_name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.description),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",n.userHasRole(e.name))}}function N(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275elementStart"](1,"div",6),r["\u0275\u0275elementStart"](2,"div",7),r["\u0275\u0275elementStart"](3,"div",8),r["\u0275\u0275text"](4,"Role"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",9),r["\u0275\u0275text"](6,"Role Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",10),r["\u0275\u0275text"](8,"Detail"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"div",11),r["\u0275\u0275text"](10,"Actions"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",12),r["\u0275\u0275template"](12,j,11,6,"div",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](12),r["\u0275\u0275property"]("ngForOf",e.roles)}}let L=(()=>{class e{constructor(e,t,n,a,i){this.dialogRef=e,this.data=t,this.store=n,this.userService=a,this.updates$=i,this.onAdd=new r.EventEmitter,this.roles=[],this.destroySubject$=new k.xQ}ngOnInit(){this.userService.getRoles().subscribe(e=>{this.roles=e})}userHasRole(e){let t=!1;return this.data.roles.forEach(n=>{n.name===e&&(t=!0)}),t}assignRole(e){this.store.dispatch(new p({user_id:this.data.id,role_id:e})),this.onAdd.emit({user_id:this.data.id}),this.updates$.pipe((0,s.l4)("[Admin] ASSIGN_ROLE_SUCCESS"),(0,P.R)(this.destroySubject$)).subscribe(()=>{this.store.select(e=>e.Admin.users).subscribe(e=>{e.forEach(e=>{e.id===this.data.id&&(this.data=e)})})})}closeDialog(e){this.dialogRef.close(e)}doAdd(){this.closeDialog(!0),this.onAdd.emit()}ngOnDestroy(){this.destroySubject$.next()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](y.so),r["\u0275\u0275directiveInject"](y.WI),r["\u0275\u0275directiveInject"](R.yh),r["\u0275\u0275directiveInject"](M),r["\u0275\u0275directiveInject"](s.eX))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["assign-role-dialog"]],decls:6,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["class","table-rasponsive",4,"ngIf"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-role"],[1,"header__item","column-name"],[1,"header__item","column-detail"],[1,"header__item","column-actions"],[1,"table-content"],["class","table-row",3,"role_assigned",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-data","column-role"],[1,"table-data","column-name"],["matTooltipPosition","below",1,"table-data","column-detail"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Assign Role","matTooltipPosition","below",3,"disabled","click"],["aria-label","Edit"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"h3",0),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"div",2),r["\u0275\u0275elementStart"](4,"div",3),r["\u0275\u0275template"](5,N,13,1,"div",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("Assign Role to ",t.data.name,""),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",t.roles))},directives:[y.uh,y.xY,U.xw,U.yH,a.O5,a.sg,I.lW,A.gM,T.Hw],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),e})();var $=n(31041),F=n(13070),V=n(9550);let z=(()=>{class e{constructor(e,t,n,a,i){this.dialogRef=e,this.data=t,this.store=n,this.userService=a,this.updates$=i,this.onAdd=new r.EventEmitter,this.user=new l(null,null,null)}ngOnInit(){}addUser(){this.store.dispatch(new x(this.user)),this.onAdd.emit(),this.dialogRef.close(!0)}closeDialog(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](y.so),r["\u0275\u0275directiveInject"](y.WI),r["\u0275\u0275directiveInject"](R.yh),r["\u0275\u0275directiveInject"](M),r["\u0275\u0275directiveInject"](s.eX))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["add-user-dialog"]],decls:33,vars:7,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","tickerName",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutWrap","wrap"],["type","password","matInput","","mat-autosize","","required","","name","tickerName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"h3",0),r["\u0275\u0275text"](1,"Add User"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"form",1,2),r["\u0275\u0275elementStart"](4,"div",3),r["\u0275\u0275elementStart"](5,"div",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"mat-form-field",6),r["\u0275\u0275elementStart"](8,"mat-label"),r["\u0275\u0275text"](9,"Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"input",7),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.user.name=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",8),r["\u0275\u0275elementStart"](12,"div",5),r["\u0275\u0275elementStart"](13,"mat-form-field",6),r["\u0275\u0275elementStart"](14,"mat-label"),r["\u0275\u0275text"](15,"Email"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"input",7),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.user.email=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"div",8),r["\u0275\u0275elementStart"](18,"div",5),r["\u0275\u0275elementStart"](19,"mat-form-field",6),r["\u0275\u0275elementStart"](20,"mat-label"),r["\u0275\u0275text"](21,"Password"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"input",9),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.user.password=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"div",8),r["\u0275\u0275elementStart"](24,"div",5),r["\u0275\u0275elementStart"](25,"code"),r["\u0275\u0275text"](26),r["\u0275\u0275pipe"](27,"json"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](28,"div",10),r["\u0275\u0275elementStart"](29,"button",11),r["\u0275\u0275listener"]("click",function(){return t.closeDialog(!0)}),r["\u0275\u0275text"](30,"Cancel"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](31,"button",12),r["\u0275\u0275listener"]("click",function(){return t.addUser()}),r["\u0275\u0275text"](32,"Add User"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](3);r["\u0275\u0275advance"](10),r["\u0275\u0275property"]("ngModel",t.user.name),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.user.email),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.user.password),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](27,5,t.user)),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("disabled",!e.form.valid)}},directives:[y.uh,$["\u0275NgNoValidate"],$.NgControlStatusGroup,$.NgForm,y.xY,U.xw,U.yH,F.KE,F.hX,V.Nt,$.DefaultValueAccessor,$.RequiredValidator,$.NgControlStatus,$.NgModel,y.H8,I.lW],pipes:[a.Ts],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),e})();var D=n(33191),G=n(63589),B=n(22797),H=n(98418),W=n(41293),q=n(37112),Y=n(85078),X=n(87064),K=n(57173),Q=n(95522);function J(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",31),r["\u0275\u0275text"](1,"face"),r["\u0275\u0275elementEnd"]())}function Z(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",32),r["\u0275\u0275text"](1,"account_circle"),r["\u0275\u0275elementEnd"]())}function ee(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",33),r["\u0275\u0275text"](1,"error_outline"),r["\u0275\u0275elementEnd"]())}function te(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",34),r["\u0275\u0275text"](1,"security"),r["\u0275\u0275elementEnd"]())}function ne(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",32),r["\u0275\u0275text"](1,"security"),r["\u0275\u0275elementEnd"]())}function ae(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-list-item",24),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).$implicit;return r["\u0275\u0275nextContext"](2).onSelect(t)}),r["\u0275\u0275template"](1,J,2,0,"mat-icon",25),r["\u0275\u0275template"](2,Z,2,0,"mat-icon",26),r["\u0275\u0275template"](3,ee,2,0,"mat-icon",27),r["\u0275\u0275template"](4,te,2,0,"mat-icon",28),r["\u0275\u0275template"](5,ne,2,0,"mat-icon",26),r["\u0275\u0275elementStart"](6,"b",29),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"p",30),r["\u0275\u0275text"](9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275styleProp"]("background-color",e.email==n.currentUserEmail?"rgba(127, 255, 212, 0.2)":"rgba(255, 255, 255, 0)"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.roles.length>0&&!n.checkRight("admin",e)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.roles.length>0&&n.checkRight("news-editor",e)||n.checkRight("n-editor",e)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.roles.length<=0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.checkRight("admin",e)&&n.checkRight("create-user",e)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.checkRight("admin",e)&&!n.checkRight("create-user",e)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.email)}}function ie(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-nav-list"),r["\u0275\u0275template"](1,ae,10,9,"mat-list-item",23),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.users)}}function re(e,t){if(1&e&&r["\u0275\u0275element"](0,"img",37),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275propertyInterpolate"]("src",e.storagePath+"profiles/default.jpg",r["\u0275\u0275sanitizeUrl"])}}function oe(e,t){if(1&e&&r["\u0275\u0275element"](0,"img",37),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275propertyInterpolate"]("src",e.storagePath+"profiles/user/"+e.selectedUser.profile.profilepic,r["\u0275\u0275sanitizeUrl"])}}function le(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span",35),r["\u0275\u0275template"](1,re,1,1,"img",36),r["\u0275\u0275template"](2,oe,1,1,"img",36),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.selectedUser.profile),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.selectedUser.profile)}}function se(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",38),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.selectedUser.name)}}function ce(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",66),r["\u0275\u0275elementStart"](1,"div",67),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",68),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",69),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",70),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"div",71),r["\u0275\u0275text"](10),r["\u0275\u0275pipe"](11,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.id),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.log_name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.description),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.subject_type),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](11,5,e.created_at,"medium"))}}function de(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-chip",32),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.name)}}function me(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",66),r["\u0275\u0275elementStart"](1,"div",72),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",73),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",74),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",75),r["\u0275\u0275elementStart"](8,"mat-chip-list"),r["\u0275\u0275template"](9,de,2,1,"mat-chip",76),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"div",77),r["\u0275\u0275elementStart"](11,"button",78),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).$implicit,n=r["\u0275\u0275nextContext"](2);return n.onRemoveRole(t.id,n.selectedUser.id)}),r["\u0275\u0275elementStart"](12,"mat-icon",79),r["\u0275\u0275text"](13,"clear"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.display_name),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.description),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",e.permissions),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",n.selectedUser.email==n.currentUserEmail||!n.checkMyRight("create-user"))}}function pe(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",39),r["\u0275\u0275elementStart"](1,"div",40),r["\u0275\u0275elementStart"](2,"div",41),r["\u0275\u0275elementStart"](3,"mat-card"),r["\u0275\u0275elementStart"](4,"mat-tab-group"),r["\u0275\u0275elementStart"](5,"mat-tab",42),r["\u0275\u0275elementStart"](6,"mat-card-content"),r["\u0275\u0275elementStart"](7,"form",43,44),r["\u0275\u0275elementStart"](9,"div",40),r["\u0275\u0275elementStart"](10,"div",45),r["\u0275\u0275elementStart"](11,"mat-form-field"),r["\u0275\u0275elementStart"](12,"input",46),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateUser.name=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",45),r["\u0275\u0275elementStart"](14,"mat-form-field"),r["\u0275\u0275elementStart"](15,"input",47),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateUser.email=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"div",45),r["\u0275\u0275elementStart"](17,"mat-form-field"),r["\u0275\u0275elementStart"](18,"input",48),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateUser.password=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"div",45),r["\u0275\u0275elementStart"](20,"button",22),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onUpdateProfile()}),r["\u0275\u0275text"](21,"Update Profile"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"mat-tab",49),r["\u0275\u0275elementStart"](23,"mat-card-content"),r["\u0275\u0275elementStart"](24,"mat-card-subtitle"),r["\u0275\u0275text"](25),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](26,"div",50),r["\u0275\u0275elementStart"](27,"div",51),r["\u0275\u0275elementStart"](28,"div",52),r["\u0275\u0275elementStart"](29,"div",53),r["\u0275\u0275text"](30,"Log Id"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](31,"div",54),r["\u0275\u0275text"](32,"Log Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](33,"div",55),r["\u0275\u0275text"](34,"Description"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](35,"div",56),r["\u0275\u0275text"](36,"Subject Type"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](37,"div",57),r["\u0275\u0275text"](38,"Log Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](39,"div",58),r["\u0275\u0275template"](40,ce,12,8,"div",59),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](41,"mat-tab",60),r["\u0275\u0275elementStart"](42,"mat-card-content"),r["\u0275\u0275elementStart"](43,"div",50),r["\u0275\u0275elementStart"](44,"div",51),r["\u0275\u0275elementStart"](45,"div",52),r["\u0275\u0275elementStart"](46,"div",61),r["\u0275\u0275text"](47,"Role"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](48,"div",62),r["\u0275\u0275text"](49,"Role Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](50,"div",63),r["\u0275\u0275text"](51,"Detail"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](52,"div",64),r["\u0275\u0275text"](53,"Permission"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](54,"div",65),r["\u0275\u0275text"](55,"Actions"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](56,"div",58),r["\u0275\u0275template"](57,me,14,5,"div",59),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](8),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](12),r["\u0275\u0275property"]("ngModel",t.updateUser.name)("disabled",!t.checkMyRight("create-user")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.updateUser.email)("disabled",t.selectedUser.email==t.currentUserEmail||!t.checkMyRight("create-user")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.updateUser.password)("disabled",!t.checkMyRight("create-user")),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",!e.form.valid||!t.checkMyRight("create-user")),r["\u0275\u0275advance"](5),r["\u0275\u0275textInterpolate1"]("Last 200 Activity performed by ",t.selectedUser.name,""),r["\u0275\u0275advance"](15),r["\u0275\u0275property"]("ngForOf",t.selectedUser.activity),r["\u0275\u0275advance"](17),r["\u0275\u0275property"]("ngForOf",t.selectedUser.roles)}}function ue(e,t){1&e&&r["\u0275\u0275element"](0,"div",39)}const ge=function(e,t){return{"side-panel-opened":e,"side-panel-closed":t}};let fe=(()=>{class e{constructor(e,t,n,a,i){this.store=e,this.updates$=t,this.dialog=n,this.sessionService=a,this.snackBar=i,this.sidePanelOpened=!0,this.users=[],this.selectedUser=null,this.destroySubject$=new k.xQ,this.updateUser=null}ngOnInit(){this.storagePath=C.N.storageUrl,this.store.dispatch(new c),this.updates$.pipe((0,s.l4)("[Admin] GET_USERS_SUCCESS"),(0,P.R)(this.destroySubject$)).subscribe(()=>{this.store.select(e=>e.Admin.users).pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.users=e})}),this.store.select(e=>e.UserState.user.email).pipe((0,P.R)(this.destroySubject$)).subscribe(e=>this.currentUserEmail=e)}onAddRole(){this.dialog.open(L,{width:"95%",height:"60%",maxHeight:"95%",data:this.selectedUser}).componentInstance.onAdd.subscribe(e=>{this.updates$.pipe((0,s.l4)("[Admin] ASSIGN_ROLE_SUCCESS"),(0,P.R)(this.destroySubject$)).subscribe(()=>{this.openSnackBar("Role Added to User!"),this.store.select(e=>e.Admin.users).pipe((0,P.R)(this.destroySubject$)).subscribe(t=>{t.forEach(t=>{t.id===e.user_id&&(this.selectedUser=t)})})})})}onRemoveRole(e,t){this.store.dispatch(new f({user_id:this.selectedUser.id,role_id:e})),this.updates$.pipe((0,s.l4)("[Admin] REMOVE_ROLE_SUCCESS"),(0,P.R)(this.destroySubject$)).subscribe(()=>{this.openSnackBar("Role Removed from User!"),this.store.select(e=>e.Admin.users).pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{e.forEach(e=>{e.id===t&&(this.selectedUser=e)})})})}onAddUser(){this.dialog.open(z,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.updates$.pipe((0,s.l4)("[Admin] CREATE_USER_SUCCESS"),(0,P.R)(this.destroySubject$)).subscribe(()=>{this.openSnackBar("User Created!")})})}checkRight(e,t){let n=!1;return t.roles.forEach(t=>{t.name===e&&(n=!0)}),n}isOver(){return window.matchMedia("(max-width: 960px)").matches}onSelect(e){this.selectedUser=e,this.updateUser=new l(this.selectedUser.name,this.selectedUser.email,null),this.updateUser.id=this.selectedUser.id}onUpdateProfile(){this.store.dispatch(new v(this.updateUser)),this.updates$.pipe((0,s.l4)("[Admin] UPDATE_USER_SUCCESS"),(0,P.R)(this.destroySubject$)).subscribe(()=>{this.openSnackBar("User Data Updated!"),this.store.select(e=>e.Admin.users).subscribe(e=>{this.users=e})})}openSnackBar(e,t="close"){this.snackBar.open(e,t,{duration:1e3})}ngOnDestroy(){this.destroySubject$.next()}checkMyRight(e){return!!this.sessionService.checkRole("ticker-editor")||!!this.sessionService.checkRole("news-editor")}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](R.yh),r["\u0275\u0275directiveInject"](s.eX),r["\u0275\u0275directiveInject"](y.uw),r["\u0275\u0275directiveInject"](D.m),r["\u0275\u0275directiveInject"](G.ux))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user"]],decls:32,vars:13,consts:[["fxLayout","row","fxLayoutAlign","center start"],["fxFlex.gt-md","100","fxFlex.gt-sm","100","fxFlex","100"],[1,"mat-card-top"],[3,"ngClass"],[3,"mode","opened","open","close"],["chatnav",""],["color","primary",1,"no-shadow"],["fxLayout","row","fxFlex","100"],[1,"m-t-0","font-14"],["mat-icon-button","",1,"mr-1"],["mat-mini-fab","","color","basic","align","end","matTooltip","Add User","matTooltipPosition","below",1,"mr-1",3,"disabled","click"],[4,"ngIf"],["color","warn",1,"bg-success","no-shadow","chat-right-panel"],["fxLayout","row","fxFlex","100","fxLayoutAlign","center center"],["mat-icon-button","",1,"mr-1",3,"click"],["class","top-avatar m-r-10",4,"ngIf"],["fxFlex",""],["class","font-14",4,"ngIf"],[1,"chat-middle-box"],["style","min-height: 500px;",4,"ngIf"],[1,"chat-footer"],["align","end"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"background-color","click",4,"ngFor","ngForOf"],[3,"click"],["color","basic",4,"ngIf"],["color","primary",4,"ngIf"],["class","label-light-warning",4,"ngIf"],["color","warn",4,"ngIf"],["matLine",""],["matLine","",1,"text-muted"],["color","basic"],["color","primary"],[1,"label-light-warning"],["color","warn"],[1,"top-avatar","m-r-10"],["class","img-circle",3,"src",4,"ngIf"],[1,"img-circle",3,"src"],[1,"font-14"],[2,"min-height","500px"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","100","fxFlex.gt-md","100","fxFlex.gt-xs","100","fxFlex","100"],["label","Profile"],[1,"basic-form"],["profileForm","ngForm"],["fxFlex.gt-sm","100","fxFlex","100"],["matInput","","placeholder","Name","required","","name","profileName",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Email","required","","type","email","name","profileEmail",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Password","type","password","name","profilePassword",3,"ngModel","disabled","ngModelChange"],["label","Activity"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-log_id"],[1,"header__item","column-log_name"],[1,"header__item","column-description"],[1,"header__item","column-subject"],[1,"header__item","column-date"],[1,"table-content"],["class","table-row",4,"ngFor","ngForOf"],["label","Roles & Permissions"],[1,"header__item","column-role"],[1,"header__item","column-name"],[1,"header__item","column-detail"],[1,"header__item","column-permission"],[1,"header__item","column-actions"],[1,"table-row"],[1,"table-data","column-log_id"],[1,"table-data","column-log_name"],["matTooltipPosition","below",1,"table-data","column-description"],["matTooltipPosition","below",1,"table-data","column-subject"],[1,"table-data","column-date"],[1,"table-data","column-role"],[1,"table-data","column-name"],["matTooltipPosition","below",1,"table-data","column-detail"],["matTooltipPosition","below",1,"table-data","column-permissions"],["color","primary",4,"ngFor","ngForOf"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Role","matTooltipPosition","below",3,"disabled","click"],["aria-label","Edit"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"mat-card",2),r["\u0275\u0275elementStart"](3,"mat-sidenav-container",3),r["\u0275\u0275elementStart"](4,"mat-sidenav",4,5),r["\u0275\u0275listener"]("open",function(){return t.sidePanelOpened=!0})("close",function(){return t.sidePanelOpened=!1}),r["\u0275\u0275elementStart"](6,"mat-toolbar",6),r["\u0275\u0275elementStart"](7,"div",7),r["\u0275\u0275elementStart"](8,"span",8),r["\u0275\u0275elementStart"](9,"button",9),r["\u0275\u0275elementStart"](10,"mat-icon"),r["\u0275\u0275text"](11,"contacts"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](12," Users "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"button",10),r["\u0275\u0275listener"]("click",function(){return t.onAddUser()}),r["\u0275\u0275elementStart"](14,"mat-icon"),r["\u0275\u0275text"](15,"person_add"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](16,ie,2,1,"mat-nav-list",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"mat-toolbar",12),r["\u0275\u0275elementStart"](18,"div",13),r["\u0275\u0275elementStart"](19,"button",14),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](5).toggle()}),r["\u0275\u0275elementStart"](20,"mat-icon"),r["\u0275\u0275text"](21,"short_text"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](22,le,3,2,"span",15),r["\u0275\u0275elementStart"](23,"div",16),r["\u0275\u0275template"](24,se,2,1,"div",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](25,"mat-card-content",18),r["\u0275\u0275template"](26,pe,58,10,"div",19),r["\u0275\u0275template"](27,ue,1,0,"div",19),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](28,"mat-card-actions",20),r["\u0275\u0275elementStart"](29,"div",21),r["\u0275\u0275elementStart"](30,"button",22),r["\u0275\u0275listener"]("click",function(){return t.onAddRole()}),r["\u0275\u0275text"](31,"Assign Role"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction2"](10,ge,t.sidePanelOpened,!t.sidePanelOpened)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("mode",t.isOver()?"over":"side")("opened",!t.isOver()),r["\u0275\u0275advance"](9),r["\u0275\u0275property"]("disabled",!t.checkMyRight("create-user")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",0!==t.users.length),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngIf",t.selectedUser),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.selectedUser),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.selectedUser),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.selectedUser),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",!t.selectedUser||!t.checkMyRight("create-user")))},directives:[U.xw,U.Wh,U.yH,B.a8,H.TM,a.mk,W.oO,H.JX,q.Ye,I.lW,T.Hw,A.gM,a.O5,B.dn,B.hq,Y.Hk,a.sg,Y.Tg,X.X2,K.SP,K.uX,$["\u0275NgNoValidate"],$.NgControlStatusGroup,$.NgForm,F.KE,V.Nt,$.DefaultValueAccessor,$.RequiredValidator,$.NgControlStatus,$.NgModel,B.$j,Q.qn,Q.HS],pipes:[a.uU],styles:['.ngx-datatable.datatable-body.datatable-row-wrapper.datatable-body-row.datatable-row-group.datatable-body-cell[_ngcontent-%COMP%]   .ngx-datatable[_ngcontent-%COMP%]{padding:2px;font-family:Courier New,Courier,monospace}.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 15%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%], .column-permissions[_ngcontent-%COMP%]{flex:0 0 30%;font-size:12px}.column-permissions[_ngcontent-%COMP%]{text-align:center}.column-actions[_ngcontent-%COMP%]{flex:0 0 10%}.column-log_id[_ngcontent-%COMP%]{flex:0 0 10%}.column-log_id[_ngcontent-%COMP%], .column-log_name[_ngcontent-%COMP%]{font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-log_name[_ngcontent-%COMP%]{flex:0 0 20%}.column-description[_ngcontent-%COMP%], .column-subject[_ngcontent-%COMP%]{flex:0 0 25%;font-size:12px}.column-date[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px}']}),e})(),he=(()=>{class e{constructor(e){this.http=e,this.apiUrl=C.N.apiUrl}getListTemplates(){return this.http.get(this.apiUrl+"management-console/news/list-templates")}getListGenTime(){return this.http.get(this.apiUrl+"management-console/news/list-templates/time")}enableListTemplate(e){return this.http.put(this.apiUrl+"management-console/news/list-templates/enable",e)}disableListTemplate(e){return this.http.put(this.apiUrl+"management-console/news/list-templates/disable",e)}setSettingsKey(e){return this.http.put(this.apiUrl+"management-console/settings/set",e)}createListTemplate(e){return this.http.post(this.apiUrl+"management-console/news/list-templates/create",e)}deleteListTemplate(e){return this.http.delete(this.apiUrl+"management-console/news/list-templates/"+e)}getBreakers(){return this.http.get(this.apiUrl+"management-console/news/breakers/manage/get")}createBreaker(e){return this.http.post(this.apiUrl+"management-console/news/breakers/manage/create",e)}deleteBreakers(e){return this.http.delete(this.apiUrl+"management-console/news/breakers/manage/delete/"+e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](O.eN))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class be{constructor(){this.list_name=""}}class xe{constructor(){}}let _e=(()=>{class e{constructor(e,t,n,a,i){this.dialogRef=e,this.data=t,this.store=n,this.userService=a,this.updates$=i,this.onAdd=new r.EventEmitter,this.template=new be}ngOnInit(){this.template.enabled=!0}addTemplate(){this.onAdd.emit(this.template),this.dialogRef.close(!0)}closeDialog(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](y.so),r["\u0275\u0275directiveInject"](y.WI),r["\u0275\u0275directiveInject"](R.yh),r["\u0275\u0275directiveInject"](M),r["\u0275\u0275directiveInject"](s.eX))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["add-news-list-template-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","templateName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"h3",0),r["\u0275\u0275text"](1,"Add News List Template"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"form",1,2),r["\u0275\u0275elementStart"](4,"div",3),r["\u0275\u0275elementStart"](5,"div",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"mat-form-field",6),r["\u0275\u0275elementStart"](8,"mat-label"),r["\u0275\u0275text"](9,"Template Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"input",7),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.template.list_name=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",8),r["\u0275\u0275elementStart"](12,"button",9),r["\u0275\u0275listener"]("click",function(){return t.closeDialog(!0)}),r["\u0275\u0275text"](13,"Cancel"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"button",10),r["\u0275\u0275listener"]("click",function(){return t.addTemplate()}),r["\u0275\u0275text"](15,"Add Template"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](3);r["\u0275\u0275advance"](10),r["\u0275\u0275property"]("ngModel",t.template.list_name),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",!e.form.valid)}},directives:[y.uh,$["\u0275NgNoValidate"],$.NgControlStatusGroup,$.NgForm,y.xY,U.xw,U.yH,F.KE,F.hX,V.Nt,$.DefaultValueAccessor,$.RequiredValidator,$.NgControlStatus,$.NgModel,y.H8,I.lW],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),e})();var Se=n(56157);function ve(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",23),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"]().enable(t.id)}),r["\u0275\u0275elementStart"](1,"mat-icon",24),r["\u0275\u0275text"](2,"check_circle"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function Ee(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",25),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"]().disable(t.id)}),r["\u0275\u0275elementStart"](1,"mat-icon",24),r["\u0275\u0275text"](2,"do_not_disturb_on"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function we(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275elementStart"](1,"div",17),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",18),r["\u0275\u0275elementStart"](4,"button",19),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).$implicit;return r["\u0275\u0275nextContext"]().onDeleteTemplate(t.id)}),r["\u0275\u0275elementStart"](5,"mat-icon",20),r["\u0275\u0275text"](6,"clear"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,ve,3,0,"button",21),r["\u0275\u0275template"](8,Ee,3,0,"button",22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275classMapInterpolate1"]("table-row status_",e.enabled,""),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.list_name),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",!e.enabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled)}}let ye=(()=>{class e{constructor(e,t,n){this.adminNewsService=e,this.dialog=t,this.snackBar=n,this.templates=[],this.generationTime=new xe,this.destroySubject$=new k.xQ}ngOnInit(){this.generationTime.key="list_generation_time",this.adminNewsService.getListTemplates().pipe((0,P.R)(this.destroySubject$)).subscribe(e=>this.templates=e),this.adminNewsService.getListGenTime().pipe((0,P.R)(this.destroySubject$)).subscribe(e=>this.generationTime.value=e.value)}enable(e){this.adminNewsService.enableListTemplate({template_id:e}).pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.templates=e})}disable(e){this.adminNewsService.disableListTemplate({template_id:e}).pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.templates=e})}updateTime(){this.adminNewsService.setSettingsKey(this.generationTime).pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.generationTime=e,this.openSnackBar("List Generations Time updated!")})}onAddTemplate(){this.dialog.open(_e,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.adminNewsService.createListTemplate(e).pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.templates=e})})}onDeleteTemplate(e){let t=this.dialog.open(Se.$,{width:"350px",data:{title:"Delete News List Template",message:"Are you sure you want to delete this Template?"}});t.afterClosed().pipe((0,P.R)(this.destroySubject$)).subscribe(n=>{t=null,n&&this.adminNewsService.deleteListTemplate(e).pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.templates=e})})}openSnackBar(e,t="close"){this.snackBar.open(e,t,{duration:1e3})}ngOnDestroy(){this.destroySubject$.next()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](he),r["\u0275\u0275directiveInject"](y.uw),r["\u0275\u0275directiveInject"](G.ux))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-list"]],decls:35,vars:2,consts:[["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","85","fxFlex.gt-md","75","fxFlex.gt-xs","100","fxFlex","100"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-name"],[1,"header__item","column-actions"],[1,"table-content"],[3,"class",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","color","accent",3,"click"],["fxFlex.gt-lg","15","fxFlex.gt-md","25","fxFlex.gt-xs","100","fxFlex","100"],[1,"oh"],["fxFlex.gt-md","100","fxFlex","100"],["appearance","outline"],["matInput","","placeholder","News List Generation Time","required","","name","ListTime",3,"ngModel","ngModelChange"],["ListTime",""],[1,"table-data","column-name"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Template","matTooltipPosition","below",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","basic","matTooltip","Enable Template","matTooltipPosition","below",3,"click",4,"ngIf"],["mat-icon-button","","color","warn","matTooltip","Disable Template","matTooltipPosition","below",3,"click",4,"ngIf"],["mat-icon-button","","color","basic","matTooltip","Enable Template","matTooltipPosition","below",3,"click"],["aria-label","Approve"],["mat-icon-button","","color","warn","matTooltip","Disable Template","matTooltipPosition","below",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"mat-card"),r["\u0275\u0275elementStart"](3,"mat-card-content"),r["\u0275\u0275elementStart"](4,"mat-card-title"),r["\u0275\u0275text"](5,"List Templates"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"mat-card-subtitle"),r["\u0275\u0275text"](7,"News Lists to be generated everyday"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",2),r["\u0275\u0275elementStart"](9,"div",3),r["\u0275\u0275elementStart"](10,"div",4),r["\u0275\u0275elementStart"](11,"div",5),r["\u0275\u0275text"](12,"List Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",6),r["\u0275\u0275text"](14,"Actions"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"div",7),r["\u0275\u0275template"](16,we,9,6,"div",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"mat-card-actions",9),r["\u0275\u0275elementStart"](18,"button",10),r["\u0275\u0275listener"]("click",function(){return t.onAddTemplate()}),r["\u0275\u0275text"](19,"Add a Template"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](20,"div",11),r["\u0275\u0275elementStart"](21,"mat-card",12),r["\u0275\u0275elementStart"](22,"mat-card-content"),r["\u0275\u0275elementStart"](23,"p"),r["\u0275\u0275text"](24," News Lists generation time "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](25,"div",0),r["\u0275\u0275elementStart"](26,"div",13),r["\u0275\u0275elementStart"](27,"mat-form-field",14),r["\u0275\u0275elementStart"](28,"mat-label"),r["\u0275\u0275text"](29,"Time"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](30,"input",15,16),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.generationTime.value=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](32,"mat-card-actions",9),r["\u0275\u0275elementStart"](33,"button",10),r["\u0275\u0275listener"]("click",function(){return t.updateTime()}),r["\u0275\u0275text"](34,"Update Time"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](16),r["\u0275\u0275property"]("ngForOf",t.templates),r["\u0275\u0275advance"](14),r["\u0275\u0275property"]("ngModel",t.generationTime.value))},directives:[U.xw,U.yH,B.a8,B.dn,B.n5,B.$j,a.sg,B.hq,I.lW,F.KE,F.hX,V.Nt,$.DefaultValueAccessor,$.RequiredValidator,$.NgControlStatus,$.NgModel,A.gM,T.Hw,a.O5],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee;margin-bottom:20px}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.table-row.status_0[_ngcontent-%COMP%]{background-color:rgba(255,127,159,.1)}.table-row[_ngcontent-%COMP%]:hover.status_0{background-color:rgba(255,127,159,.4)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%]{flex:0 0 85%;font-size:12px;font-family:Verdana,Geneva,Tahoma,sans-serif;text-align:left}.column-actions[_ngcontent-%COMP%]{flex:0 0 15%}']}),e})();var Ce=n(64587);let Oe=(()=>{class e{constructor(e,t,n,a,i){this.dialogRef=e,this.data=t,this.store=n,this.userService=a,this.updates$=i,this.onAdd=new r.EventEmitter,this.breaker=new Ce.Sq}ngOnInit(){}addBreaker(){this.onAdd.emit(this.breaker),this.dialogRef.close(!0),console.log(JSON.stringify(this.breaker))}closeDialog(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](y.so),r["\u0275\u0275directiveInject"](y.WI),r["\u0275\u0275directiveInject"](R.yh),r["\u0275\u0275directiveInject"](M),r["\u0275\u0275directiveInject"](s.eX))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["add-news-breaker-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","templateName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"h3",0),r["\u0275\u0275text"](1,"Add News Breaker"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"form",1,2),r["\u0275\u0275elementStart"](4,"div",3),r["\u0275\u0275elementStart"](5,"div",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"mat-form-field",6),r["\u0275\u0275elementStart"](8,"mat-label"),r["\u0275\u0275text"](9,"Breaker Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"input",7),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.breaker.news_name=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",8),r["\u0275\u0275elementStart"](12,"button",9),r["\u0275\u0275listener"]("click",function(){return t.closeDialog(!0)}),r["\u0275\u0275text"](13,"Cancel"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"button",10),r["\u0275\u0275listener"]("click",function(){return t.addBreaker()}),r["\u0275\u0275text"](15,"Add Breaker"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](3);r["\u0275\u0275advance"](10),r["\u0275\u0275property"]("ngModel",t.breaker.news_name),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",!e.form.valid)}},directives:[y.uh,$["\u0275NgNoValidate"],$.NgControlStatusGroup,$.NgForm,y.xY,U.xw,U.yH,F.KE,F.hX,V.Nt,$.DefaultValueAccessor,$.RequiredValidator,$.NgControlStatus,$.NgModel,y.H8,I.lW],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),e})();function Me(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275elementStart"](1,"div",12),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",13),r["\u0275\u0275elementStart"](4,"button",14),r["\u0275\u0275listener"]("click",function(){const t=r["\u0275\u0275restoreView"](e).$implicit;return r["\u0275\u0275nextContext"]().onDeleteBreaker(t.id)}),r["\u0275\u0275elementStart"](5,"mat-icon",15),r["\u0275\u0275text"](6,"clear"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.news_name)}}const ke=[{path:"",children:[{path:"admin-dashboard",component:o,data:{role:"admin"}},{path:"user-console",component:fe,data:{role:"admin"}},{path:"news-settings/list",component:ye,data:{role:"admin"}},{path:"news-settings/breakers",component:(()=>{class e{constructor(e,t,n){this.adminNewsService=e,this.dialog=t,this.snackBar=n,this.destroySubject$=new k.xQ}ngOnInit(){this.adminNewsService.getBreakers().subscribe(e=>{this.breakers=e})}onAddBreaker(){this.dialog.open(Oe,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe((0,P.R)(this.destroySubject$)).subscribe(e=>{this.adminNewsService.createBreaker(e).subscribe(e=>{this.breakers=e})})}onDeleteBreaker(e){let t=this.dialog.open(Se.$,{width:"350px",data:{title:"Delete News Breaker",message:"Are you sure you want to delete this Breaker?"}});t.afterClosed().pipe((0,P.R)(this.destroySubject$)).subscribe(n=>{t=null,n&&this.adminNewsService.deleteBreakers(e).subscribe(e=>{this.breakers=e})})}ngOnDestroy(){this.destroySubject$.next()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](he),r["\u0275\u0275directiveInject"](y.uw),r["\u0275\u0275directiveInject"](G.ux))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-breakers"]],decls:18,vars:1,consts:[["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","85","fxFlex.gt-md","75","fxFlex.gt-xs","100","fxFlex","100"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-name"],[1,"header__item","column-actions"],[1,"table-content"],["class","table-row",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","color","accent",3,"click"],[1,"table-row"],[1,"table-data","column-name"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Template","matTooltipPosition","below",3,"click"],["aria-label","Edit"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"mat-card"),r["\u0275\u0275elementStart"](3,"mat-card-content"),r["\u0275\u0275elementStart"](4,"mat-card-title"),r["\u0275\u0275text"](5,"News Breakers"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"div",2),r["\u0275\u0275elementStart"](7,"div",3),r["\u0275\u0275elementStart"](8,"div",4),r["\u0275\u0275elementStart"](9,"div",5),r["\u0275\u0275text"](10,"Breaker Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",6),r["\u0275\u0275text"](12,"Actions"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",7),r["\u0275\u0275template"](14,Me,7,1,"div",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"mat-card-actions",9),r["\u0275\u0275elementStart"](16,"button",10),r["\u0275\u0275listener"]("click",function(){return t.onAddBreaker()}),r["\u0275\u0275text"](17,"Add Breaker"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](14),r["\u0275\u0275property"]("ngForOf",t.breakers))},directives:[U.xw,U.yH,B.a8,B.dn,B.n5,a.sg,B.hq,I.lW,A.gM,T.Hw],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee;margin-bottom:20px}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.table-row.status_0[_ngcontent-%COMP%]{background-color:rgba(255,127,159,.1)}.table-row[_ngcontent-%COMP%]:hover.status_0{background-color:rgba(255,127,159,.4)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%]{flex:0 0 85%;font-size:12px;font-family:Verdana,Geneva,Tahoma,sans-serif;text-align:left}.column-actions[_ngcontent-%COMP%]{flex:0 0 15%}']}),e})(),data:{role:"admin"}}]}];var Pe=n(75425),Re=n(48333),Ue=n(77154),Ie=n(60126),Ae=n(63564),Te=n(17647);const je={isLoaded:!1,users:[]};function Ne(e=je,t){switch(t.type){case"[Admin] GET_USERS":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] GET_USERS_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] ASSIGN_ROLE":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] ASSIGN_ROLE_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] REMOVE_ROLE":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] REMOVE_ROLE_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] CREATE_USER":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] CREATE_USER_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] UPDATE_USER":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] UPDATE_USER_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] GET_USERS_ERROR":return Object.assign(Object.assign({},e),{isLoaded:!0});default:return e}}(0,R.ZF)("Admin");var Le=n(73982),$e=n(79996),Fe=n(47727),Ve=n(40878),ze=n(99129),De=function(e,t,n,a){var i,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ge=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Be=(()=>{class e{constructor(e,t){this.actions$=e,this.userService=t,this.GetMyNews$=this.actions$.pipe((0,s.l4)("[Admin] GET_USERS"),(0,Le.zg)(e=>this.userService.getUsers().pipe((0,$e.U)(e=>new d(e)),(0,Fe.K)(()=>(0,Ve.of)(new m))))),this.AssignRole$=this.actions$.pipe((0,s.l4)("[Admin] ASSIGN_ROLE"),(0,Le.zg)(e=>this.userService.assignRole({user_id:e.payload.user_id,role_id:e.payload.role_id}).pipe((0,$e.U)(e=>(console.log(e),new u(e))),(0,Fe.K)(()=>(0,Ve.of)(new g))))),this.RemoveRole$=this.actions$.pipe((0,s.l4)("[Admin] REMOVE_ROLE"),(0,Le.zg)(e=>this.userService.removeRole({user_id:e.payload.user_id,role_id:e.payload.role_id}).pipe((0,$e.U)(e=>(console.log(e),new h(e))),(0,Fe.K)(()=>(0,Ve.of)(new b))))),this.CreateUser$=this.actions$.pipe((0,s.l4)("[Admin] CREATE_USER"),(0,Le.zg)(e=>this.userService.createUser(e.payload).pipe((0,$e.U)(e=>(console.log(e),new _(e))),(0,Fe.K)(()=>(0,Ve.of)(new S))))),this.UpdateUser$=this.actions$.pipe((0,s.l4)("[Admin] UPDATE_USER"),(0,Le.zg)(e=>this.userService.updateUser(e.payload).pipe((0,$e.U)(e=>(console.log(e),new E(e))),(0,Fe.K)(()=>(0,Ve.of)(new w)))))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](s.eX),r["\u0275\u0275inject"](M))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),De([(0,s.Qm)(),Ge("design:type",ze.y)],e.prototype,"GetMyNews$",void 0),De([(0,s.Qm)(),Ge("design:type",ze.y)],e.prototype,"AssignRole$",void 0),De([(0,s.Qm)(),Ge("design:type",ze.y)],e.prototype,"RemoveRole$",void 0),De([(0,s.Qm)(),Ge("design:type",ze.y)],e.prototype,"CreateUser$",void 0),De([(0,s.Qm)(),Ge("design:type",ze.y)],e.prototype,"UpdateUser$",void 0),e})(),He=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[a.ez,i.Bz.forChild(ke),$.FormsModule,Re.O,Ue.o9,Ie.Xd,Ae.qE,Pe.m,Te.xD,R.Aw.forFeature("Admin",Ne),s.sQ.forFeature([Be])]]}),e})()},64587:function(e,t,n){"use strict";n.d(t,{Sq:function(){return a},l$:function(){return i},t7:function(){return r},SQ:function(){return o},pY:function(){return l},Dp:function(){return c},vB:function(){return d},lm:function(){return m},Ln:function(){return p}});class a{constructor(){this.news_name="",this.heading="",this.body="",this.newsstatus_id=0,this.user_id=0,this.language=new o("",""),this.newsbar=[new i("","")],this.draft=!1}static generateMockNews(){return new a}}class i{constructor(e,t,n,a,i,r){this.title=e,this.detail=t,this.id=n,this.news_id=a,this.created_at=i,this.updated_a=r}}class r{constructor(e){this.news=e}}class o{constructor(e,t,n){this.language_code=e,this.language=t,this.id=n}}class l{constructor(){this.id=null,this.name="",this.created_at="",this.updated_at="",this.list_news=[new s]}}class s{constructor(){this.id=null,this.news_list_id=null,this.news_id=null,this.created_at=null,this.updated_at=null,this.news=new a}}class c{constructor(e,t,n){this.list_id=e,this.news_id=t,this.order=n}}class d{constructor(){this.name=""}}class m{constructor(){this.news="",this.language=new o("","")}}class p{constructor(){this.news_numbers=new u,this.lists=[]}}class u{constructor(){this.my=0,this.reject=0,this.approved=0,this.in_review=0}}},56157:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var a=n(92935),i=n(35366),r=n(84369);let o=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}closeDialog(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.so),i["\u0275\u0275directiveInject"](a.WI))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","","tabindex","2",3,"click"],["mat-button","","tabindex","-1",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h1",0),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"p"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",2),i["\u0275\u0275elementStart"](6,"button",3),i["\u0275\u0275listener"]("click",function(){return t.closeDialog(!1)}),i["\u0275\u0275text"](7,"No"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"button",4),i["\u0275\u0275listener"]("click",function(){return t.closeDialog(!0)}),i["\u0275\u0275text"](9,"Yes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.data.title),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.data.message))},directives:[a.uh,a.xY,a.H8,r.lW],encapsulation:2}),e})()}}]);