!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{jkDv:function(t,a,i){"use strict";i.r(a),i.d(a,"AdminModule",(function(){return ot}));var o,r,l=i("ofXK"),s=i("tyNb"),c=i("fXoL"),d=((o=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=c["\u0275\u0275defineComponent"]({type:o,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p"),c["\u0275\u0275text"](1," dashboard works!\n"),c["\u0275\u0275elementEnd"]())},styles:[""]}),o),m=function t(n,a,i){e(this,t),this.name=n,this.email=a,this.password=i},u=i("9jGm"),p=function t(){e(this,t),this.type="[Admin] GET_USERS"},f=function t(n){e(this,t),this.payload=n,this.type="[Admin] GET_USERS_SUCCESS"},g=function t(){e(this,t),this.type="[Admin] GET_USERS_ERROR"},b=function t(n){e(this,t),this.payload=n,this.type="[Admin] ASSIGN_ROLE"},h=function t(n){e(this,t),this.payload=n,this.type="[Admin] ASSIGN_ROLE_SUCCESS"},v=function t(){e(this,t),this.type="[Admin] ASSIGN_ROLE_ERROR"},x=function t(n){e(this,t),this.payload=n,this.type="[Admin] REMOVE_ROLE"},_=function t(n){e(this,t),this.payload=n,this.type="[Admin] REMOVE_ROLE_SUCCESS"},S=function t(){e(this,t),this.type="[Admin] REMOVE_ROLE_ERROR"},E=function t(n){e(this,t),this.payload=n,this.type="[Admin] CREATE_USER"},y=function t(n){e(this,t),this.payload=n,this.type="[Admin] CREATE_USER_SUCCESS"},O=function t(){e(this,t),this.type="[Admin] CREATE_USER_ERROR"},C=function t(n){e(this,t),this.payload=n,this.type="[Admin] UPDATE_USER"},k=function t(n){e(this,t),this.payload=n,this.type="[Admin] UPDATE_USER_SUCCESS"},w=function t(){e(this,t),this.type="[Admin] UPDATE_USER_ERROR"},M=i("0IaG"),P=i("AytR"),j=i("tk/3"),R=((r=function(){function t(n){e(this,t),this.http=n,this.apiUrl=P.a.apiUrl}return n(t,[{key:"getUsers",value:function(){return this.http.get(this.apiUrl+"management-console/users")}},{key:"getRoles",value:function(){return this.http.get(this.apiUrl+"management-console/user/get-roles")}},{key:"assignRole",value:function(e){return this.http.put(this.apiUrl+"management-console/user/assign-role",e)}},{key:"removeRole",value:function(e){return this.http.put(this.apiUrl+"management-console/user/remove-role",e)}},{key:"createUser",value:function(e){return this.http.post(this.apiUrl+"management-console/user/create",e)}},{key:"updateUser",value:function(e){return this.http.put(this.apiUrl+"management-console/user/update",e)}}]),t}()).\u0275fac=function(e){return new(e||r)(c["\u0275\u0275inject"](j.b))},r.\u0275prov=c["\u0275\u0275defineInjectable"]({token:r,factory:r.\u0275fac,providedIn:"root"}),r),U=i("XNiG"),A=i("1G5W"),I=i("l7P3"),T=i("XiUz"),L=i("bTqV"),F=i("Qu3c"),N=i("NFeN");function $(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",14),c["\u0275\u0275elementStart"](1,"div",15),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",16),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",17),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",18),c["\u0275\u0275elementStart"](8,"button",19),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"](2).assignRole(e.id)})),c["\u0275\u0275elementStart"](9,"mat-icon",20),c["\u0275\u0275text"](10,"add"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=c["\u0275\u0275nextContext"](2);c["\u0275\u0275classProp"]("role_assigned",i.userHasRole(a.name)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.display_name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.description),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",i.userHasRole(a.name))}}function V(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",5),c["\u0275\u0275elementStart"](1,"div",6),c["\u0275\u0275elementStart"](2,"div",7),c["\u0275\u0275elementStart"](3,"div",8),c["\u0275\u0275text"](4,"Role"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",9),c["\u0275\u0275text"](6,"Role Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",10),c["\u0275\u0275text"](8,"Detail"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",11),c["\u0275\u0275text"](10,"Actions"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",12),c["\u0275\u0275template"](12,$,11,6,"div",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](12),c["\u0275\u0275property"]("ngForOf",n.roles)}}var G,z,D=((G=function(){function t(n,a,i,o,r){e(this,t),this.dialogRef=n,this.data=a,this.store=i,this.userService=o,this.updates$=r,this.onAdd=new c.EventEmitter,this.roles=[],this.destroySubject$=new U.a}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.userService.getRoles().subscribe((function(t){e.roles=t}))}},{key:"userHasRole",value:function(e){var t=!1;return this.data.roles.forEach((function(n){n.name===e&&(t=!0)})),t}},{key:"assignRole",value:function(e){var t=this;this.store.dispatch(new b({user_id:this.data.id,role_id:e})),this.onAdd.emit({user_id:this.data.id}),this.updates$.pipe(Object(u.d)("[Admin] ASSIGN_ROLE_SUCCESS"),Object(A.a)(this.destroySubject$)).subscribe((function(){t.store.select((function(e){return e.Admin.users})).subscribe((function(e){e.forEach((function(e){e.id===t.data.id&&(t.data=e)}))}))}))}},{key:"closeDialog",value:function(e){this.dialogRef.close(e)}},{key:"doAdd",value:function(){this.closeDialog(!0),this.onAdd.emit()}},{key:"ngOnDestroy",value:function(){this.destroySubject$.next()}}]),t}()).\u0275fac=function(e){return new(e||G)(c["\u0275\u0275directiveInject"](M.g),c["\u0275\u0275directiveInject"](M.a),c["\u0275\u0275directiveInject"](I.h),c["\u0275\u0275directiveInject"](R),c["\u0275\u0275directiveInject"](u.a))},G.\u0275cmp=c["\u0275\u0275defineComponent"]({type:G,selectors:[["assign-role-dialog"]],decls:6,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["class","table-rasponsive",4,"ngIf"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-role"],[1,"header__item","column-name"],[1,"header__item","column-detail"],[1,"header__item","column-actions"],[1,"table-content"],["class","table-row",3,"role_assigned",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-data","column-role"],[1,"table-data","column-name"],["matTooltipPosition","below",1,"table-data","column-detail"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Assign Role","matTooltipPosition","below",3,"disabled","click"],["aria-label","Edit"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h3",0),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"div",1),c["\u0275\u0275elementStart"](3,"div",2),c["\u0275\u0275elementStart"](4,"div",3),c["\u0275\u0275template"](5,V,13,1,"div",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("Assign Role to ",t.data.name,""),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",t.roles))},directives:[M.h,M.e,T.d,T.b,l.p,l.o,L.b,F.a,N.a],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),G),B=i("3Pt+"),q=i("kmnG"),W=i("qFsG"),H=((z=function(){function t(n,a,i,o,r){e(this,t),this.dialogRef=n,this.data=a,this.store=i,this.userService=o,this.updates$=r,this.onAdd=new c.EventEmitter,this.user=new m(null,null,null)}return n(t,[{key:"ngOnInit",value:function(){}},{key:"addUser",value:function(){this.store.dispatch(new E(this.user)),this.onAdd.emit(),this.dialogRef.close(!0)}},{key:"closeDialog",value:function(e){this.dialogRef.close(e)}}]),t}()).\u0275fac=function(e){return new(e||z)(c["\u0275\u0275directiveInject"](M.g),c["\u0275\u0275directiveInject"](M.a),c["\u0275\u0275directiveInject"](I.h),c["\u0275\u0275directiveInject"](R),c["\u0275\u0275directiveInject"](u.a))},z.\u0275cmp=c["\u0275\u0275defineComponent"]({type:z,selectors:[["add-user-dialog"]],decls:33,vars:7,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","tickerName",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutWrap","wrap"],["type","password","matInput","","mat-autosize","","required","","name","tickerName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h3",0),c["\u0275\u0275text"](1,"Add User"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"form",1,2),c["\u0275\u0275elementStart"](4,"div",3),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275elementStart"](7,"mat-form-field",6),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",7),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.name=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",8),c["\u0275\u0275elementStart"](12,"div",5),c["\u0275\u0275elementStart"](13,"mat-form-field",6),c["\u0275\u0275elementStart"](14,"mat-label"),c["\u0275\u0275text"](15,"Email"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"input",7),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.email=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",8),c["\u0275\u0275elementStart"](18,"div",5),c["\u0275\u0275elementStart"](19,"mat-form-field",6),c["\u0275\u0275elementStart"](20,"mat-label"),c["\u0275\u0275text"](21,"Password"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"input",9),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.password=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div",8),c["\u0275\u0275elementStart"](24,"div",5),c["\u0275\u0275elementStart"](25,"code"),c["\u0275\u0275text"](26),c["\u0275\u0275pipe"](27,"json"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",10),c["\u0275\u0275elementStart"](29,"button",11),c["\u0275\u0275listener"]("click",(function(){return t.closeDialog(!0)})),c["\u0275\u0275text"](30,"Cancel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"button",12),c["\u0275\u0275listener"]("click",(function(){return t.addUser()})),c["\u0275\u0275text"](32,"Add User"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("ngModel",t.user.name),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngModel",t.user.email),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngModel",t.user.password),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](27,5,t.user)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("disabled",!n.form.valid)}},directives:[M.h,B["\u0275angular_packages_forms_forms_y"],B.NgControlStatusGroup,B.NgForm,M.e,T.d,T.b,q.c,q.g,W.b,B.DefaultValueAccessor,B.RequiredValidator,B.NgControlStatus,B.NgModel,M.c,L.b],pipes:[l.j],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),z),Y=i("mZtN"),K=i("dNgK"),J=i("Wp6s"),X=i("XhcP"),Z=i("znSr"),Q=i("/t3+"),ee=i("MutI"),te=i("FKr1"),ne=i("wZkO"),ae=i("A5z7");function ie(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-icon",31),c["\u0275\u0275text"](1,"face"),c["\u0275\u0275elementEnd"]())}function oe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-icon",32),c["\u0275\u0275text"](1,"account_circle"),c["\u0275\u0275elementEnd"]())}function re(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-icon",33),c["\u0275\u0275text"](1,"error_outline"),c["\u0275\u0275elementEnd"]())}function le(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-icon",34),c["\u0275\u0275text"](1,"security"),c["\u0275\u0275elementEnd"]())}function se(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-icon",32),c["\u0275\u0275text"](1,"security"),c["\u0275\u0275elementEnd"]())}function ce(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mat-list-item",24),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"](2).onSelect(e)})),c["\u0275\u0275template"](1,ie,2,0,"mat-icon",25),c["\u0275\u0275template"](2,oe,2,0,"mat-icon",26),c["\u0275\u0275template"](3,re,2,0,"mat-icon",27),c["\u0275\u0275template"](4,le,2,0,"mat-icon",28),c["\u0275\u0275template"](5,se,2,0,"mat-icon",26),c["\u0275\u0275elementStart"](6,"b",29),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"p",30),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=c["\u0275\u0275nextContext"](2);c["\u0275\u0275styleProp"]("background-color",a.email==i.currentUserEmail?"rgba(127, 255, 212, 0.2)":"rgba(255, 255, 255, 0)"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.roles.length>0&&!i.checkRight("admin",a)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.roles.length>0&&i.checkRight("news-editor",a)||i.checkRight("n-editor",a)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.roles.length<=0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",i.checkRight("admin",a)&&i.checkRight("create-user",a)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",i.checkRight("admin",a)&&!i.checkRight("create-user",a)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.email)}}function de(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-nav-list"),c["\u0275\u0275template"](1,ce,10,9,"mat-list-item",23),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n.users)}}function me(e,t){if(1&e&&c["\u0275\u0275element"](0,"img",37),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275propertyInterpolate"]("src",n.storagePath+"profiles/default.jpg",c["\u0275\u0275sanitizeUrl"])}}function ue(e,t){if(1&e&&c["\u0275\u0275element"](0,"img",37),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275propertyInterpolate"]("src",n.storagePath+"profiles/user/"+n.selectedUser.profile.profilepic,c["\u0275\u0275sanitizeUrl"])}}function pe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span",35),c["\u0275\u0275template"](1,me,1,1,"img",36),c["\u0275\u0275template"](2,ue,1,1,"img",36),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.selectedUser.profile),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.selectedUser.profile)}}function fe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",38),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.selectedUser.name)}}function ge(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",66),c["\u0275\u0275elementStart"](1,"div",67),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",68),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",69),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",70),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",71),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.id),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.log_name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.description),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.subject_type),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](11,5,n.created_at,"medium"))}}function be(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-chip",32),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.name)}}function he(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",66),c["\u0275\u0275elementStart"](1,"div",72),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",73),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",74),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",75),c["\u0275\u0275elementStart"](8,"mat-chip-list"),c["\u0275\u0275template"](9,be,2,1,"mat-chip",76),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",77),c["\u0275\u0275elementStart"](11,"button",78),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit,a=c["\u0275\u0275nextContext"](2);return a.onRemoveRole(e.id,a.selectedUser.id)})),c["\u0275\u0275elementStart"](12,"mat-icon",79),c["\u0275\u0275text"](13,"clear"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.display_name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.description),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",a.permissions),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",i.selectedUser.email==i.currentUserEmail||!i.checkMyRight("create-user"))}}function ve(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",39),c["\u0275\u0275elementStart"](1,"div",40),c["\u0275\u0275elementStart"](2,"div",41),c["\u0275\u0275elementStart"](3,"mat-card"),c["\u0275\u0275elementStart"](4,"mat-tab-group"),c["\u0275\u0275elementStart"](5,"mat-tab",42),c["\u0275\u0275elementStart"](6,"mat-card-content"),c["\u0275\u0275elementStart"](7,"form",43,44),c["\u0275\u0275elementStart"](9,"div",40),c["\u0275\u0275elementStart"](10,"div",45),c["\u0275\u0275elementStart"](11,"mat-form-field"),c["\u0275\u0275elementStart"](12,"input",46),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateUser.name=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",45),c["\u0275\u0275elementStart"](14,"mat-form-field"),c["\u0275\u0275elementStart"](15,"input",47),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateUser.email=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",45),c["\u0275\u0275elementStart"](17,"mat-form-field"),c["\u0275\u0275elementStart"](18,"input",48),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateUser.password=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"div",45),c["\u0275\u0275elementStart"](20,"button",22),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onUpdateProfile()})),c["\u0275\u0275text"](21,"Update Profile"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"mat-tab",49),c["\u0275\u0275elementStart"](23,"mat-card-content"),c["\u0275\u0275elementStart"](24,"mat-card-subtitle"),c["\u0275\u0275text"](25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"div",50),c["\u0275\u0275elementStart"](27,"div",51),c["\u0275\u0275elementStart"](28,"div",52),c["\u0275\u0275elementStart"](29,"div",53),c["\u0275\u0275text"](30,"Log Id"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",54),c["\u0275\u0275text"](32,"Log Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",55),c["\u0275\u0275text"](34,"Description"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"div",56),c["\u0275\u0275text"](36,"Subject Type"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"div",57),c["\u0275\u0275text"](38,"Log Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"div",58),c["\u0275\u0275template"](40,ge,12,8,"div",59),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](41,"mat-tab",60),c["\u0275\u0275elementStart"](42,"mat-card-content"),c["\u0275\u0275elementStart"](43,"div",50),c["\u0275\u0275elementStart"](44,"div",51),c["\u0275\u0275elementStart"](45,"div",52),c["\u0275\u0275elementStart"](46,"div",61),c["\u0275\u0275text"](47,"Role"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"div",62),c["\u0275\u0275text"](49,"Role Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"div",63),c["\u0275\u0275text"](51,"Detail"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"div",64),c["\u0275\u0275text"](53,"Permission"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](54,"div",65),c["\u0275\u0275text"](55,"Actions"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](56,"div",58),c["\u0275\u0275template"](57,he,14,5,"div",59),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=c["\u0275\u0275reference"](8),i=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](12),c["\u0275\u0275property"]("ngModel",i.updateUser.name)("disabled",!i.checkMyRight("create-user")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",i.updateUser.email)("disabled",i.selectedUser.email==i.currentUserEmail||!i.checkMyRight("create-user")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",i.updateUser.password)("disabled",!i.checkMyRight("create-user")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",!a.form.valid||!i.checkMyRight("create-user")),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"]("Last 200 Activity performed by ",i.selectedUser.name,""),c["\u0275\u0275advance"](15),c["\u0275\u0275property"]("ngForOf",i.selectedUser.activity),c["\u0275\u0275advance"](17),c["\u0275\u0275property"]("ngForOf",i.selectedUser.roles)}}function xe(e,t){1&e&&c["\u0275\u0275element"](0,"div",39)}var _e,Se,Ee,ye=function(e,t){return{"side-panel-opened":e,"side-panel-closed":t}},Oe=((_e=function(){function t(n,a,i,o,r){e(this,t),this.store=n,this.updates$=a,this.dialog=i,this.sessionService=o,this.snackBar=r,this.sidePanelOpened=!0,this.users=[],this.selectedUser=null,this.destroySubject$=new U.a,this.updateUser=null}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.storagePath=P.a.storageUrl,this.store.dispatch(new p),this.updates$.pipe(Object(u.d)("[Admin] GET_USERS_SUCCESS"),Object(A.a)(this.destroySubject$)).subscribe((function(){e.store.select((function(e){return e.Admin.users})).pipe(Object(A.a)(e.destroySubject$)).subscribe((function(t){e.users=t}))})),this.store.select((function(e){return e.UserState.user.email})).pipe(Object(A.a)(this.destroySubject$)).subscribe((function(t){return e.currentUserEmail=t}))}},{key:"onAddRole",value:function(){var e=this;this.dialog.open(D,{width:"95%",height:"60%",maxHeight:"95%",data:this.selectedUser}).componentInstance.onAdd.subscribe((function(t){e.updates$.pipe(Object(u.d)("[Admin] ASSIGN_ROLE_SUCCESS"),Object(A.a)(e.destroySubject$)).subscribe((function(){e.openSnackBar("Role Added to User!"),e.store.select((function(e){return e.Admin.users})).pipe(Object(A.a)(e.destroySubject$)).subscribe((function(n){n.forEach((function(n){n.id===t.user_id&&(e.selectedUser=n)}))}))}))}))}},{key:"onRemoveRole",value:function(e,t){var n=this;this.store.dispatch(new x({user_id:this.selectedUser.id,role_id:e})),this.updates$.pipe(Object(u.d)("[Admin] REMOVE_ROLE_SUCCESS"),Object(A.a)(this.destroySubject$)).subscribe((function(){n.openSnackBar("Role Removed from User!"),n.store.select((function(e){return e.Admin.users})).pipe(Object(A.a)(n.destroySubject$)).subscribe((function(e){e.forEach((function(e){e.id===t&&(n.selectedUser=e)}))}))}))}},{key:"onAddUser",value:function(){var e=this;this.dialog.open(H,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe(Object(A.a)(this.destroySubject$)).subscribe((function(t){e.updates$.pipe(Object(u.d)("[Admin] CREATE_USER_SUCCESS"),Object(A.a)(e.destroySubject$)).subscribe((function(){e.openSnackBar("User Created!")}))}))}},{key:"checkRight",value:function(e,t){var n=!1;return t.roles.forEach((function(t){t.name===e&&(n=!0)})),n}},{key:"isOver",value:function(){return window.matchMedia("(max-width: 960px)").matches}},{key:"onSelect",value:function(e){this.selectedUser=e,this.updateUser=new m(this.selectedUser.name,this.selectedUser.email,null),this.updateUser.id=this.selectedUser.id}},{key:"onUpdateProfile",value:function(){var e=this;this.store.dispatch(new C(this.updateUser)),this.updates$.pipe(Object(u.d)("[Admin] UPDATE_USER_SUCCESS"),Object(A.a)(this.destroySubject$)).subscribe((function(){e.openSnackBar("User Data Updated!"),e.store.select((function(e){return e.Admin.users})).subscribe((function(t){e.users=t}))}))}},{key:"openSnackBar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"close";this.snackBar.open(e,t,{duration:1e3})}},{key:"ngOnDestroy",value:function(){this.destroySubject$.next()}},{key:"checkMyRight",value:function(e){return!!this.sessionService.checkRole("ticker-editor")||!!this.sessionService.checkRole("news-editor")}}]),t}()).\u0275fac=function(e){return new(e||_e)(c["\u0275\u0275directiveInject"](I.h),c["\u0275\u0275directiveInject"](u.a),c["\u0275\u0275directiveInject"](M.b),c["\u0275\u0275directiveInject"](Y.a),c["\u0275\u0275directiveInject"](K.a))},_e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:_e,selectors:[["app-user"]],decls:32,vars:13,consts:[["fxLayout","row","fxLayoutAlign","center start"],["fxFlex.gt-md","100","fxFlex.gt-sm","100","fxFlex","100"],[1,"mat-card-top"],[3,"ngClass"],[3,"mode","opened","open","close"],["chatnav",""],["color","primary",1,"no-shadow"],["fxLayout","row","fxFlex","100"],[1,"m-t-0","font-14"],["mat-icon-button","",1,"mr-1"],["mat-mini-fab","","color","basic","align","end","matTooltip","Add User","matTooltipPosition","below",1,"mr-1",3,"disabled","click"],[4,"ngIf"],["color","warn",1,"bg-success","no-shadow","chat-right-panel"],["fxLayout","row","fxFlex","100","fxLayoutAlign","center center"],["mat-icon-button","",1,"mr-1",3,"click"],["class","top-avatar m-r-10",4,"ngIf"],["fxFlex",""],["class","font-14",4,"ngIf"],[1,"chat-middle-box"],["style","min-height: 500px;",4,"ngIf"],[1,"chat-footer"],["align","end"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"background-color","click",4,"ngFor","ngForOf"],[3,"click"],["color","basic",4,"ngIf"],["color","primary",4,"ngIf"],["class","label-light-warning",4,"ngIf"],["color","warn",4,"ngIf"],["matLine",""],["matLine","",1,"text-muted"],["color","basic"],["color","primary"],[1,"label-light-warning"],["color","warn"],[1,"top-avatar","m-r-10"],["class","img-circle",3,"src",4,"ngIf"],[1,"img-circle",3,"src"],[1,"font-14"],[2,"min-height","500px"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","100","fxFlex.gt-md","100","fxFlex.gt-xs","100","fxFlex","100"],["label","Profile"],[1,"basic-form"],["profileForm","ngForm"],["fxFlex.gt-sm","100","fxFlex","100"],["matInput","","placeholder","Name","required","","name","profileName",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Email","required","","type","email","name","profileEmail",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Password","type","password","name","profilePassword",3,"ngModel","disabled","ngModelChange"],["label","Activity"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-log_id"],[1,"header__item","column-log_name"],[1,"header__item","column-description"],[1,"header__item","column-subject"],[1,"header__item","column-date"],[1,"table-content"],["class","table-row",4,"ngFor","ngForOf"],["label","Roles & Permissions"],[1,"header__item","column-role"],[1,"header__item","column-name"],[1,"header__item","column-detail"],[1,"header__item","column-permission"],[1,"header__item","column-actions"],[1,"table-row"],[1,"table-data","column-log_id"],[1,"table-data","column-log_name"],["matTooltipPosition","below",1,"table-data","column-description"],["matTooltipPosition","below",1,"table-data","column-subject"],[1,"table-data","column-date"],[1,"table-data","column-role"],[1,"table-data","column-name"],["matTooltipPosition","below",1,"table-data","column-detail"],["matTooltipPosition","below",1,"table-data","column-permissions"],["color","primary",4,"ngFor","ngForOf"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Role","matTooltipPosition","below",3,"disabled","click"],["aria-label","Edit"]],template:function(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"mat-card",2),c["\u0275\u0275elementStart"](3,"mat-sidenav-container",3),c["\u0275\u0275elementStart"](4,"mat-sidenav",4,5),c["\u0275\u0275listener"]("open",(function(){return t.sidePanelOpened=!0}))("close",(function(){return t.sidePanelOpened=!1})),c["\u0275\u0275elementStart"](6,"mat-toolbar",6),c["\u0275\u0275elementStart"](7,"div",7),c["\u0275\u0275elementStart"](8,"span",8),c["\u0275\u0275elementStart"](9,"button",9),c["\u0275\u0275elementStart"](10,"mat-icon"),c["\u0275\u0275text"](11,"contacts"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](12," Users "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"button",10),c["\u0275\u0275listener"]("click",(function(){return t.onAddUser()})),c["\u0275\u0275elementStart"](14,"mat-icon"),c["\u0275\u0275text"](15,"person_add"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](16,de,2,1,"mat-nav-list",11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"mat-toolbar",12),c["\u0275\u0275elementStart"](18,"div",13),c["\u0275\u0275elementStart"](19,"button",14),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](5).toggle()})),c["\u0275\u0275elementStart"](20,"mat-icon"),c["\u0275\u0275text"](21,"short_text"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](22,pe,3,2,"span",15),c["\u0275\u0275elementStart"](23,"div",16),c["\u0275\u0275template"](24,fe,2,1,"div",17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"mat-card-content",18),c["\u0275\u0275template"](26,ve,58,10,"div",19),c["\u0275\u0275template"](27,xe,1,0,"div",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"mat-card-actions",20),c["\u0275\u0275elementStart"](29,"div",21),c["\u0275\u0275elementStart"](30,"button",22),c["\u0275\u0275listener"]("click",(function(){return t.onAddRole()})),c["\u0275\u0275text"](31,"Assign Role"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](10,ye,t.sidePanelOpened,!t.sidePanelOpened)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mode",t.isOver()?"over":"side")("opened",!t.isOver()),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("disabled",!t.checkMyRight("create-user")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",0!==t.users.length),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngIf",t.selectedUser),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.selectedUser),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.selectedUser),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.selectedUser),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",!t.selectedUser||!t.checkMyRight("create-user")))},directives:[T.d,T.c,T.b,J.a,X.b,l.n,Z.a,X.a,Q.a,L.b,N.a,F.a,l.p,J.d,J.b,ee.h,l.o,ee.d,te.k,ne.b,ne.a,B["\u0275angular_packages_forms_forms_y"],B.NgControlStatusGroup,B.NgForm,q.c,W.b,B.DefaultValueAccessor,B.RequiredValidator,B.NgControlStatus,B.NgModel,J.h,ae.c,ae.a],pipes:[l.f],styles:['.ngx-datatable.datatable-body.datatable-row-wrapper.datatable-body-row.datatable-row-group.datatable-body-cell[_ngcontent-%COMP%]   .ngx-datatable[_ngcontent-%COMP%]{padding:2px;font-family:Courier New,Courier,monospace}.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 15%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%], .column-permissions[_ngcontent-%COMP%]{flex:0 0 30%;font-size:12px}.column-permissions[_ngcontent-%COMP%]{text-align:center}.column-actions[_ngcontent-%COMP%]{flex:0 0 10%}.column-log_id[_ngcontent-%COMP%]{flex:0 0 10%}.column-log_id[_ngcontent-%COMP%], .column-log_name[_ngcontent-%COMP%]{font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-log_name[_ngcontent-%COMP%]{flex:0 0 20%}.column-description[_ngcontent-%COMP%], .column-subject[_ngcontent-%COMP%]{flex:0 0 25%;font-size:12px}.column-date[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px}']}),_e),Ce=i("mhfV"),ke=((Se=function(){function t(n){e(this,t),this.http=n,this.apiUrl=P.a.apiUrl}return n(t,[{key:"getListTemplates",value:function(){return this.http.get(this.apiUrl+"management-console/news/list-templates")}},{key:"getListGenTime",value:function(){return this.http.get(this.apiUrl+"management-console/news/list-templates/time")}},{key:"enableListTemplate",value:function(e){return this.http.put(this.apiUrl+"management-console/news/list-templates/enable",e)}},{key:"disableListTemplate",value:function(e){return this.http.put(this.apiUrl+"management-console/news/list-templates/disable",e)}},{key:"setSettingsKey",value:function(e){return this.http.put(this.apiUrl+"management-console/settings/set",e)}},{key:"createListTemplate",value:function(e){return this.http.post(this.apiUrl+"management-console/news/list-templates/create",e)}},{key:"deleteListTemplate",value:function(e){return this.http.delete(this.apiUrl+"management-console/news/list-templates/"+e)}},{key:"getBreakers",value:function(){return this.http.get(this.apiUrl+"management-console/news/breakers/manage/get")}},{key:"createBreaker",value:function(e){return this.http.post(this.apiUrl+"management-console/news/breakers/manage/create",e)}},{key:"deleteBreakers",value:function(e){return this.http.delete(this.apiUrl+"management-console/news/breakers/manage/delete/"+e)}}]),t}()).\u0275fac=function(e){return new(e||Se)(c["\u0275\u0275inject"](j.b))},Se.\u0275prov=c["\u0275\u0275defineInjectable"]({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se),we=function t(){e(this,t),this.list_name=""},Me=function t(){e(this,t)},Pe=((Ee=function(){function t(n,a,i,o,r){e(this,t),this.dialogRef=n,this.data=a,this.store=i,this.userService=o,this.updates$=r,this.onAdd=new c.EventEmitter,this.template=new we}return n(t,[{key:"ngOnInit",value:function(){this.template.enabled=!0}},{key:"addTemplate",value:function(){this.onAdd.emit(this.template),this.dialogRef.close(!0)}},{key:"closeDialog",value:function(e){this.dialogRef.close(e)}}]),t}()).\u0275fac=function(e){return new(e||Ee)(c["\u0275\u0275directiveInject"](M.g),c["\u0275\u0275directiveInject"](M.a),c["\u0275\u0275directiveInject"](I.h),c["\u0275\u0275directiveInject"](R),c["\u0275\u0275directiveInject"](u.a))},Ee.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Ee,selectors:[["add-news-list-template-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","templateName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h3",0),c["\u0275\u0275text"](1,"Add News List Template"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"form",1,2),c["\u0275\u0275elementStart"](4,"div",3),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275elementStart"](7,"mat-form-field",6),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"Template Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",7),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.template.list_name=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",8),c["\u0275\u0275elementStart"](12,"button",9),c["\u0275\u0275listener"]("click",(function(){return t.closeDialog(!0)})),c["\u0275\u0275text"](13,"Cancel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"button",10),c["\u0275\u0275listener"]("click",(function(){return t.addTemplate()})),c["\u0275\u0275text"](15,"Add Template"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("ngModel",t.template.list_name),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("disabled",!n.form.valid)}},directives:[M.h,B["\u0275angular_packages_forms_forms_y"],B.NgControlStatusGroup,B.NgForm,M.e,T.d,T.b,q.c,q.g,W.b,B.DefaultValueAccessor,B.RequiredValidator,B.NgControlStatus,B.NgModel,M.c,L.b],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),Ee),je=i("l8SP");function Re(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",23),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().enable(e.id)})),c["\u0275\u0275elementStart"](1,"mat-icon",24),c["\u0275\u0275text"](2,"check_circle"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function Ue(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",25),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().disable(e.id)})),c["\u0275\u0275elementStart"](1,"mat-icon",24),c["\u0275\u0275text"](2,"do_not_disturb_on"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function Ae(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"div",17),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",18),c["\u0275\u0275elementStart"](4,"button",19),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().onDeleteTemplate(e.id)})),c["\u0275\u0275elementStart"](5,"mat-icon",20),c["\u0275\u0275text"](6,"clear"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,Re,3,0,"button",21),c["\u0275\u0275template"](8,Ue,3,0,"button",22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;c["\u0275\u0275classMapInterpolate1"]("table-row status_",a.enabled,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.list_name),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",!a.enabled),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a.enabled)}}var Ie,Te,Le=((Te=function(){function t(n,a,i){e(this,t),this.adminNewsService=n,this.dialog=a,this.snackBar=i,this.templates=[],this.generationTime=new Me,this.destroySubject$=new U.a}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.generationTime.key="list_generation_time",this.adminNewsService.getListTemplates().pipe(Object(A.a)(this.destroySubject$)).subscribe((function(t){return e.templates=t})),this.adminNewsService.getListGenTime().pipe(Object(A.a)(this.destroySubject$)).subscribe((function(t){return e.generationTime.value=t.value}))}},{key:"enable",value:function(e){var t=this;this.adminNewsService.enableListTemplate({template_id:e}).pipe(Object(A.a)(this.destroySubject$)).subscribe((function(e){t.templates=e}))}},{key:"disable",value:function(e){var t=this;this.adminNewsService.disableListTemplate({template_id:e}).pipe(Object(A.a)(this.destroySubject$)).subscribe((function(e){t.templates=e}))}},{key:"updateTime",value:function(){var e=this;this.adminNewsService.setSettingsKey(this.generationTime).pipe(Object(A.a)(this.destroySubject$)).subscribe((function(t){e.generationTime=t,e.openSnackBar("List Generations Time updated!")}))}},{key:"onAddTemplate",value:function(){var e=this;this.dialog.open(Pe,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe(Object(A.a)(this.destroySubject$)).subscribe((function(t){e.adminNewsService.createListTemplate(t).pipe(Object(A.a)(e.destroySubject$)).subscribe((function(t){e.templates=t}))}))}},{key:"onDeleteTemplate",value:function(e){var t=this,n=this.dialog.open(je.a,{width:"350px",data:{title:"Delete News List Template",message:"Are you sure you want to delete this Template?"}});n.afterClosed().pipe(Object(A.a)(this.destroySubject$)).subscribe((function(a){n=null,a&&t.adminNewsService.deleteListTemplate(e).pipe(Object(A.a)(t.destroySubject$)).subscribe((function(e){t.templates=e}))}))}},{key:"openSnackBar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"close";this.snackBar.open(e,t,{duration:1e3})}},{key:"ngOnDestroy",value:function(){this.destroySubject$.next()}}]),t}()).\u0275fac=function(e){return new(e||Te)(c["\u0275\u0275directiveInject"](ke),c["\u0275\u0275directiveInject"](M.b),c["\u0275\u0275directiveInject"](K.a))},Te.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Te,selectors:[["app-news-list"]],decls:35,vars:2,consts:[["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","85","fxFlex.gt-md","75","fxFlex.gt-xs","100","fxFlex","100"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-name"],[1,"header__item","column-actions"],[1,"table-content"],[3,"class",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","color","accent",3,"click"],["fxFlex.gt-lg","15","fxFlex.gt-md","25","fxFlex.gt-xs","100","fxFlex","100"],[1,"oh"],["fxFlex.gt-md","100","fxFlex","100"],["appearance","outline"],["matInput","","placeholder","News List Generation Time","required","","name","ListTime",3,"ngModel","ngModelChange"],["ListTime",""],[1,"table-data","column-name"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Template","matTooltipPosition","below",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","basic","matTooltip","Enable Template","matTooltipPosition","below",3,"click",4,"ngIf"],["mat-icon-button","","color","warn","matTooltip","Disable Template","matTooltipPosition","below",3,"click",4,"ngIf"],["mat-icon-button","","color","basic","matTooltip","Enable Template","matTooltipPosition","below",3,"click"],["aria-label","Approve"],["mat-icon-button","","color","warn","matTooltip","Disable Template","matTooltipPosition","below",3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"mat-card"),c["\u0275\u0275elementStart"](3,"mat-card-content"),c["\u0275\u0275elementStart"](4,"mat-card-title"),c["\u0275\u0275text"](5,"List Templates"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"mat-card-subtitle"),c["\u0275\u0275text"](7,"News Lists to be generated everyday"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",2),c["\u0275\u0275elementStart"](9,"div",3),c["\u0275\u0275elementStart"](10,"div",4),c["\u0275\u0275elementStart"](11,"div",5),c["\u0275\u0275text"](12,"List Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",6),c["\u0275\u0275text"](14,"Actions"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",7),c["\u0275\u0275template"](16,Ae,9,6,"div",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"mat-card-actions",9),c["\u0275\u0275elementStart"](18,"button",10),c["\u0275\u0275listener"]("click",(function(){return t.onAddTemplate()})),c["\u0275\u0275text"](19,"Add a Template"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",11),c["\u0275\u0275elementStart"](21,"mat-card",12),c["\u0275\u0275elementStart"](22,"mat-card-content"),c["\u0275\u0275elementStart"](23,"p"),c["\u0275\u0275text"](24," News Lists generation time "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",0),c["\u0275\u0275elementStart"](26,"div",13),c["\u0275\u0275elementStart"](27,"mat-form-field",14),c["\u0275\u0275elementStart"](28,"mat-label"),c["\u0275\u0275text"](29,"Time"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"input",15,16),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.generationTime.value=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"mat-card-actions",9),c["\u0275\u0275elementStart"](33,"button",10),c["\u0275\u0275listener"]("click",(function(){return t.updateTime()})),c["\u0275\u0275text"](34,"Update Time"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](16),c["\u0275\u0275property"]("ngForOf",t.templates),c["\u0275\u0275advance"](14),c["\u0275\u0275property"]("ngModel",t.generationTime.value))},directives:[T.d,T.b,J.a,J.d,J.i,J.h,l.o,J.b,L.b,q.c,q.g,W.b,B.DefaultValueAccessor,B.RequiredValidator,B.NgControlStatus,B.NgModel,F.a,N.a,l.p],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee;margin-bottom:20px}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.table-row.status_0[_ngcontent-%COMP%]{background-color:rgba(255,127,159,.1)}.table-row[_ngcontent-%COMP%]:hover.status_0{background-color:rgba(255,127,159,.4)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%]{flex:0 0 85%;font-size:12px;font-family:Verdana,Geneva,Tahoma,sans-serif;text-align:left}.column-actions[_ngcontent-%COMP%]{flex:0 0 15%}']}),Te),Fe=((Ie=function(){function t(n,a,i,o,r){e(this,t),this.dialogRef=n,this.data=a,this.store=i,this.userService=o,this.updates$=r,this.onAdd=new c.EventEmitter,this.breaker=new Ce.d}return n(t,[{key:"ngOnInit",value:function(){}},{key:"addBreaker",value:function(){this.onAdd.emit(this.breaker),this.dialogRef.close(!0),console.log(JSON.stringify(this.breaker))}},{key:"closeDialog",value:function(e){this.dialogRef.close(e)}}]),t}()).\u0275fac=function(e){return new(e||Ie)(c["\u0275\u0275directiveInject"](M.g),c["\u0275\u0275directiveInject"](M.a),c["\u0275\u0275directiveInject"](I.h),c["\u0275\u0275directiveInject"](R),c["\u0275\u0275directiveInject"](u.a))},Ie.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Ie,selectors:[["add-news-breaker-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","templateName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h3",0),c["\u0275\u0275text"](1,"Add News Breaker"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"form",1,2),c["\u0275\u0275elementStart"](4,"div",3),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275elementStart"](7,"mat-form-field",6),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"Breaker Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",7),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.breaker.news_name=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",8),c["\u0275\u0275elementStart"](12,"button",9),c["\u0275\u0275listener"]("click",(function(){return t.closeDialog(!0)})),c["\u0275\u0275text"](13,"Cancel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"button",10),c["\u0275\u0275listener"]("click",(function(){return t.addBreaker()})),c["\u0275\u0275text"](15,"Add Breaker"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("ngModel",t.breaker.news_name),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("disabled",!n.form.valid)}},directives:[M.h,B["\u0275angular_packages_forms_forms_y"],B.NgControlStatusGroup,B.NgForm,M.e,T.d,T.b,q.c,q.g,W.b,B.DefaultValueAccessor,B.RequiredValidator,B.NgControlStatus,B.NgModel,M.c,L.b],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),Ie);function Ne(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",11),c["\u0275\u0275elementStart"](1,"div",12),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",13),c["\u0275\u0275elementStart"](4,"button",14),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().onDeleteBreaker(e.id)})),c["\u0275\u0275elementStart"](5,"mat-icon",15),c["\u0275\u0275text"](6,"clear"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](a.news_name)}}var $e,Ve=[{path:"",children:[{path:"admin-dashboard",component:d,data:{role:"admin"}},{path:"user-console",component:Oe,data:{role:"admin"}},{path:"news-settings/list",component:Le,data:{role:"admin"}},{path:"news-settings/breakers",component:($e=function(){function t(n,a,i){e(this,t),this.adminNewsService=n,this.dialog=a,this.snackBar=i,this.destroySubject$=new U.a}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.adminNewsService.getBreakers().subscribe((function(t){e.breakers=t}))}},{key:"onAddBreaker",value:function(){var e=this;this.dialog.open(Fe,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe(Object(A.a)(this.destroySubject$)).subscribe((function(t){e.adminNewsService.createBreaker(t).subscribe((function(t){e.breakers=t}))}))}},{key:"onDeleteBreaker",value:function(e){var t=this,n=this.dialog.open(je.a,{width:"350px",data:{title:"Delete News Breaker",message:"Are you sure you want to delete this Breaker?"}});n.afterClosed().pipe(Object(A.a)(this.destroySubject$)).subscribe((function(a){n=null,a&&t.adminNewsService.deleteBreakers(e).subscribe((function(e){t.breakers=e}))}))}},{key:"ngOnDestroy",value:function(){this.destroySubject$.next()}}]),t}(),$e.\u0275fac=function(e){return new(e||$e)(c["\u0275\u0275directiveInject"](ke),c["\u0275\u0275directiveInject"](M.b),c["\u0275\u0275directiveInject"](K.a))},$e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:$e,selectors:[["app-news-breakers"]],decls:18,vars:1,consts:[["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","85","fxFlex.gt-md","75","fxFlex.gt-xs","100","fxFlex","100"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-name"],[1,"header__item","column-actions"],[1,"table-content"],["class","table-row",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","color","accent",3,"click"],[1,"table-row"],[1,"table-data","column-name"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Template","matTooltipPosition","below",3,"click"],["aria-label","Edit"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"mat-card"),c["\u0275\u0275elementStart"](3,"mat-card-content"),c["\u0275\u0275elementStart"](4,"mat-card-title"),c["\u0275\u0275text"](5,"News Breakers"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",2),c["\u0275\u0275elementStart"](7,"div",3),c["\u0275\u0275elementStart"](8,"div",4),c["\u0275\u0275elementStart"](9,"div",5),c["\u0275\u0275text"](10,"Breaker Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",6),c["\u0275\u0275text"](12,"Actions"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",7),c["\u0275\u0275template"](14,Ne,7,1,"div",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"mat-card-actions",9),c["\u0275\u0275elementStart"](16,"button",10),c["\u0275\u0275listener"]("click",(function(){return t.onAddBreaker()})),c["\u0275\u0275text"](17,"Add Breaker"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](14),c["\u0275\u0275property"]("ngForOf",t.breakers))},directives:[T.d,T.b,J.a,J.d,J.i,l.o,J.b,L.b,F.a,N.a],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee;margin-bottom:20px}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.table-row.status_0[_ngcontent-%COMP%]{background-color:rgba(255,127,159,.1)}.table-row[_ngcontent-%COMP%]:hover.status_0{background-color:rgba(255,127,159,.4)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%]{flex:0 0 85%;font-size:12px;font-family:Verdana,Geneva,Tahoma,sans-serif;text-align:left}.column-actions[_ngcontent-%COMP%]{flex:0 0 15%}']}),$e),data:{role:"admin"}}]}],Ge=i("PCNd"),ze=i("onrN"),De=i("YUcS"),Be=i("bFKe"),qe=i("9Ejp"),We=i("lDzL"),He={isLoaded:!1,users:[]};function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[Admin] GET_USERS":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] GET_USERS_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] ASSIGN_ROLE":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] ASSIGN_ROLE_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] REMOVE_ROLE":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] REMOVE_ROLE_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] CREATE_USER":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] CREATE_USER_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] UPDATE_USER":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] UPDATE_USER_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] GET_USERS_ERROR":return Object.assign(Object.assign({},e),{isLoaded:!0});default:return e}}Object(I.o)("Admin");var Ke,Je,Xe=i("5+tZ"),Ze=i("lJxs"),Qe=i("JIr8"),et=i("LRne"),tt=i("HDdC"),nt=function(e,t,n,a){var i,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},at=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},it=((Je=function t(n,a){var i=this;e(this,t),this.actions$=n,this.userService=a,this.GetMyNews$=this.actions$.pipe(Object(u.d)("[Admin] GET_USERS"),Object(Xe.b)((function(e){return i.userService.getUsers().pipe(Object(Ze.a)((function(e){return new f(e)})),Object(Qe.a)((function(){return Object(et.a)(new g)})))}))),this.AssignRole$=this.actions$.pipe(Object(u.d)("[Admin] ASSIGN_ROLE"),Object(Xe.b)((function(e){return i.userService.assignRole({user_id:e.payload.user_id,role_id:e.payload.role_id}).pipe(Object(Ze.a)((function(e){return console.log(e),new h(e)})),Object(Qe.a)((function(){return Object(et.a)(new v)})))}))),this.RemoveRole$=this.actions$.pipe(Object(u.d)("[Admin] REMOVE_ROLE"),Object(Xe.b)((function(e){return i.userService.removeRole({user_id:e.payload.user_id,role_id:e.payload.role_id}).pipe(Object(Ze.a)((function(e){return console.log(e),new _(e)})),Object(Qe.a)((function(){return Object(et.a)(new S)})))}))),this.CreateUser$=this.actions$.pipe(Object(u.d)("[Admin] CREATE_USER"),Object(Xe.b)((function(e){return i.userService.createUser(e.payload).pipe(Object(Ze.a)((function(e){return console.log(e),new y(e)})),Object(Qe.a)((function(){return Object(et.a)(new O)})))}))),this.UpdateUser$=this.actions$.pipe(Object(u.d)("[Admin] UPDATE_USER"),Object(Xe.b)((function(e){return i.userService.updateUser(e.payload).pipe(Object(Ze.a)((function(e){return console.log(e),new k(e)})),Object(Qe.a)((function(){return Object(et.a)(new w)})))})))}).\u0275fac=function(e){return new(e||Je)(c["\u0275\u0275inject"](u.a),c["\u0275\u0275inject"](R))},Je.\u0275prov=c["\u0275\u0275defineInjectable"]({token:Je,factory:Je.\u0275fac}),nt([Object(u.b)(),at("design:type",tt.a)],Je.prototype,"GetMyNews$",void 0),nt([Object(u.b)(),at("design:type",tt.a)],Je.prototype,"AssignRole$",void 0),nt([Object(u.b)(),at("design:type",tt.a)],Je.prototype,"RemoveRole$",void 0),nt([Object(u.b)(),at("design:type",tt.a)],Je.prototype,"CreateUser$",void 0),nt([Object(u.b)(),at("design:type",tt.a)],Je.prototype,"UpdateUser$",void 0),Je),ot=((Ke=function t(){e(this,t)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:Ke}),Ke.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ke)},imports:[[l.c,s.j.forChild(Ve),B.FormsModule,ze.a,De.a,Be.d,qe.b,Ge.a,We.d,I.j.forFeature("Admin",Ye),u.c.forFeature([it])]]}),Ke)}}])}();