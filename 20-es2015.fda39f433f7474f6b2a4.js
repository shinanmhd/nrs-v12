(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{jkDv:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return qe}));var a=n("ofXK"),r=n("tyNb"),o=n("fXoL");let i=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p"),o["\u0275\u0275text"](1," dashboard works!\n"),o["\u0275\u0275elementEnd"]())},styles:[""]}),e})();class l{constructor(e,t,n){this.name=e,this.email=t,this.password=n}}var s=n("9jGm");class c{constructor(){this.type="[Admin] GET_USERS"}}class d{constructor(e){this.payload=e,this.type="[Admin] GET_USERS_SUCCESS"}}class m{constructor(){this.type="[Admin] GET_USERS_ERROR"}}class p{constructor(e){this.payload=e,this.type="[Admin] ASSIGN_ROLE"}}class u{constructor(e){this.payload=e,this.type="[Admin] ASSIGN_ROLE_SUCCESS"}}class g{constructor(){this.type="[Admin] ASSIGN_ROLE_ERROR"}}class b{constructor(e){this.payload=e,this.type="[Admin] REMOVE_ROLE"}}class f{constructor(e){this.payload=e,this.type="[Admin] REMOVE_ROLE_SUCCESS"}}class h{constructor(){this.type="[Admin] REMOVE_ROLE_ERROR"}}class x{constructor(e){this.payload=e,this.type="[Admin] CREATE_USER"}}class _{constructor(e){this.payload=e,this.type="[Admin] CREATE_USER_SUCCESS"}}class S{constructor(){this.type="[Admin] CREATE_USER_ERROR"}}class v{constructor(e){this.payload=e,this.type="[Admin] UPDATE_USER"}}class E{constructor(e){this.payload=e,this.type="[Admin] UPDATE_USER_SUCCESS"}}class O{constructor(){this.type="[Admin] UPDATE_USER_ERROR"}}var C=n("0IaG"),y=n("AytR"),w=n("tk/3");let M=(()=>{class e{constructor(e){this.http=e,this.apiUrl=y.a.apiUrl}getUsers(){return this.http.get(this.apiUrl+"management-console/users")}getRoles(){return this.http.get(this.apiUrl+"management-console/user/get-roles")}assignRole(e){return this.http.put(this.apiUrl+"management-console/user/assign-role",e)}removeRole(e){return this.http.put(this.apiUrl+"management-console/user/remove-role",e)}createUser(e){return this.http.post(this.apiUrl+"management-console/user/create",e)}updateUser(e){return this.http.put(this.apiUrl+"management-console/user/update",e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](w.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=n("XNiG"),P=n("1G5W"),j=n("l7P3"),R=n("XiUz"),U=n("bTqV"),A=n("Qu3c"),I=n("NFeN");function T(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",14),o["\u0275\u0275elementStart"](1,"div",15),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",16),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",17),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",18),o["\u0275\u0275elementStart"](8,"button",19),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"](2).assignRole(n.id)})),o["\u0275\u0275elementStart"](9,"mat-icon",20),o["\u0275\u0275text"](10,"add"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classProp"]("role_assigned",n.userHasRole(e.name)),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.name),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.display_name),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.description),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("disabled",n.userHasRole(e.name))}}function L(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",5),o["\u0275\u0275elementStart"](1,"div",6),o["\u0275\u0275elementStart"](2,"div",7),o["\u0275\u0275elementStart"](3,"div",8),o["\u0275\u0275text"](4,"Role"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",9),o["\u0275\u0275text"](6,"Role Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",10),o["\u0275\u0275text"](8,"Detail"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div",11),o["\u0275\u0275text"](10,"Actions"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",12),o["\u0275\u0275template"](12,T,11,6,"div",13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngForOf",e.roles)}}let F=(()=>{class e{constructor(e,t,n,a,r){this.dialogRef=e,this.data=t,this.store=n,this.userService=a,this.updates$=r,this.onAdd=new o.EventEmitter,this.roles=[],this.destroySubject$=new k.a}ngOnInit(){this.userService.getRoles().subscribe(e=>{this.roles=e})}userHasRole(e){let t=!1;return this.data.roles.forEach(n=>{n.name===e&&(t=!0)}),t}assignRole(e){this.store.dispatch(new p({user_id:this.data.id,role_id:e})),this.onAdd.emit({user_id:this.data.id}),this.updates$.pipe(Object(s.d)("[Admin] ASSIGN_ROLE_SUCCESS"),Object(P.a)(this.destroySubject$)).subscribe(()=>{this.store.select(e=>e.Admin.users).subscribe(e=>{e.forEach(e=>{e.id===this.data.id&&(this.data=e)})})})}closeDialog(e){this.dialogRef.close(e)}doAdd(){this.closeDialog(!0),this.onAdd.emit()}ngOnDestroy(){this.destroySubject$.next()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](C.g),o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](j.h),o["\u0275\u0275directiveInject"](M),o["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["assign-role-dialog"]],decls:6,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["class","table-rasponsive",4,"ngIf"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-role"],[1,"header__item","column-name"],[1,"header__item","column-detail"],[1,"header__item","column-actions"],[1,"table-content"],["class","table-row",3,"role_assigned",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-data","column-role"],[1,"table-data","column-name"],["matTooltipPosition","below",1,"table-data","column-detail"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Assign Role","matTooltipPosition","below",3,"disabled","click"],["aria-label","Edit"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"h3",0),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275elementStart"](3,"div",2),o["\u0275\u0275elementStart"](4,"div",3),o["\u0275\u0275template"](5,L,13,1,"div",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("Assign Role to ",t.data.name,""),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",t.roles))},directives:[C.h,C.e,R.d,R.b,a.p,a.o,U.b,A.a,I.a],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),e})();var N=n("3Pt+"),$=n("kmnG"),V=n("qFsG");let G=(()=>{class e{constructor(e,t,n,a,r){this.dialogRef=e,this.data=t,this.store=n,this.userService=a,this.updates$=r,this.onAdd=new o.EventEmitter,this.user=new l(null,null,null)}ngOnInit(){}addUser(){this.store.dispatch(new x(this.user)),this.onAdd.emit(),this.dialogRef.close(!0)}closeDialog(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](C.g),o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](j.h),o["\u0275\u0275directiveInject"](M),o["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["add-user-dialog"]],decls:33,vars:7,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","tickerName",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutWrap","wrap"],["type","password","matInput","","mat-autosize","","required","","name","tickerName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"h3",0),o["\u0275\u0275text"](1,"Add User"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"form",1,2),o["\u0275\u0275elementStart"](4,"div",3),o["\u0275\u0275elementStart"](5,"div",4),o["\u0275\u0275elementStart"](6,"div",5),o["\u0275\u0275elementStart"](7,"mat-form-field",6),o["\u0275\u0275elementStart"](8,"mat-label"),o["\u0275\u0275text"](9,"Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"input",7),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.name=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",8),o["\u0275\u0275elementStart"](12,"div",5),o["\u0275\u0275elementStart"](13,"mat-form-field",6),o["\u0275\u0275elementStart"](14,"mat-label"),o["\u0275\u0275text"](15,"Email"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"input",7),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.email=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"div",8),o["\u0275\u0275elementStart"](18,"div",5),o["\u0275\u0275elementStart"](19,"mat-form-field",6),o["\u0275\u0275elementStart"](20,"mat-label"),o["\u0275\u0275text"](21,"Password"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"input",9),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.password=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"div",8),o["\u0275\u0275elementStart"](24,"div",5),o["\u0275\u0275elementStart"](25,"code"),o["\u0275\u0275text"](26),o["\u0275\u0275pipe"](27,"json"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"div",10),o["\u0275\u0275elementStart"](29,"button",11),o["\u0275\u0275listener"]("click",(function(){return t.closeDialog(!0)})),o["\u0275\u0275text"](30,"Cancel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"button",12),o["\u0275\u0275listener"]("click",(function(){return t.addUser()})),o["\u0275\u0275text"](32,"Add User"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275reference"](3);o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("ngModel",t.user.name),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.user.email),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",t.user.password),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](27,5,t.user)),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("disabled",!e.form.valid)}},directives:[C.h,N["\u0275angular_packages_forms_forms_y"],N.NgControlStatusGroup,N.NgForm,C.e,R.d,R.b,$.c,$.g,V.b,N.DefaultValueAccessor,N.RequiredValidator,N.NgControlStatus,N.NgModel,C.c,U.b],pipes:[a.j],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),e})();var z=n("mZtN"),D=n("dNgK"),B=n("Wp6s"),q=n("XhcP"),W=n("znSr"),H=n("/t3+"),Y=n("MutI"),K=n("FKr1"),J=n("wZkO"),X=n("A5z7");function Z(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-icon",31),o["\u0275\u0275text"](1,"face"),o["\u0275\u0275elementEnd"]())}function Q(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-icon",32),o["\u0275\u0275text"](1,"account_circle"),o["\u0275\u0275elementEnd"]())}function ee(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-icon",33),o["\u0275\u0275text"](1,"error_outline"),o["\u0275\u0275elementEnd"]())}function te(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-icon",34),o["\u0275\u0275text"](1,"security"),o["\u0275\u0275elementEnd"]())}function ne(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-icon",32),o["\u0275\u0275text"](1,"security"),o["\u0275\u0275elementEnd"]())}function ae(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-list-item",24),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"](2).onSelect(n)})),o["\u0275\u0275template"](1,Z,2,0,"mat-icon",25),o["\u0275\u0275template"](2,Q,2,0,"mat-icon",26),o["\u0275\u0275template"](3,ee,2,0,"mat-icon",27),o["\u0275\u0275template"](4,te,2,0,"mat-icon",28),o["\u0275\u0275template"](5,ne,2,0,"mat-icon",26),o["\u0275\u0275elementStart"](6,"b",29),o["\u0275\u0275text"](7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"p",30),o["\u0275\u0275text"](9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275styleProp"]("background-color",e.email==n.currentUserEmail?"rgba(127, 255, 212, 0.2)":"rgba(255, 255, 255, 0)"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.roles.length>0&&!n.checkRight("admin",e)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.roles.length>0&&n.checkRight("news-editor",e)||n.checkRight("n-editor",e)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.roles.length<=0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.checkRight("admin",e)&&n.checkRight("create-user",e)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.checkRight("admin",e)&&!n.checkRight("create-user",e)),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.name),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.email)}}function re(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-nav-list"),o["\u0275\u0275template"](1,ae,10,9,"mat-list-item",23),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.users)}}function oe(e,t){if(1&e&&o["\u0275\u0275element"](0,"img",37),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275propertyInterpolate"]("src",e.storagePath+"profiles/default.jpg",o["\u0275\u0275sanitizeUrl"])}}function ie(e,t){if(1&e&&o["\u0275\u0275element"](0,"img",37),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275propertyInterpolate"]("src",e.storagePath+"profiles/user/"+e.selectedUser.profile.profilepic,o["\u0275\u0275sanitizeUrl"])}}function le(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span",35),o["\u0275\u0275template"](1,oe,1,1,"img",36),o["\u0275\u0275template"](2,ie,1,1,"img",36),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!e.selectedUser.profile),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.selectedUser.profile)}}function se(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",38),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.selectedUser.name)}}function ce(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",66),o["\u0275\u0275elementStart"](1,"div",67),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",68),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",69),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",70),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div",71),o["\u0275\u0275text"](10),o["\u0275\u0275pipe"](11,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.id),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.log_name),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.description),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.subject_type),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind2"](11,5,e.created_at,"medium"))}}function de(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-chip",32),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name)}}function me(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",66),o["\u0275\u0275elementStart"](1,"div",72),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",73),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",74),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",75),o["\u0275\u0275elementStart"](8,"mat-chip-list"),o["\u0275\u0275template"](9,de,2,1,"mat-chip",76),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",77),o["\u0275\u0275elementStart"](11,"button",78),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit,a=o["\u0275\u0275nextContext"](2);return a.onRemoveRole(n.id,a.selectedUser.id)})),o["\u0275\u0275elementStart"](12,"mat-icon",79),o["\u0275\u0275text"](13,"clear"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.name),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.display_name),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.description),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngForOf",e.permissions),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("disabled",n.selectedUser.email==n.currentUserEmail||!n.checkMyRight("create-user"))}}function pe(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",39),o["\u0275\u0275elementStart"](1,"div",40),o["\u0275\u0275elementStart"](2,"div",41),o["\u0275\u0275elementStart"](3,"mat-card"),o["\u0275\u0275elementStart"](4,"mat-tab-group"),o["\u0275\u0275elementStart"](5,"mat-tab",42),o["\u0275\u0275elementStart"](6,"mat-card-content"),o["\u0275\u0275elementStart"](7,"form",43,44),o["\u0275\u0275elementStart"](9,"div",40),o["\u0275\u0275elementStart"](10,"div",45),o["\u0275\u0275elementStart"](11,"mat-form-field"),o["\u0275\u0275elementStart"](12,"input",46),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().updateUser.name=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",45),o["\u0275\u0275elementStart"](14,"mat-form-field"),o["\u0275\u0275elementStart"](15,"input",47),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().updateUser.email=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"div",45),o["\u0275\u0275elementStart"](17,"mat-form-field"),o["\u0275\u0275elementStart"](18,"input",48),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().updateUser.password=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",45),o["\u0275\u0275elementStart"](20,"button",22),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onUpdateProfile()})),o["\u0275\u0275text"](21,"Update Profile"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"mat-tab",49),o["\u0275\u0275elementStart"](23,"mat-card-content"),o["\u0275\u0275elementStart"](24,"mat-card-subtitle"),o["\u0275\u0275text"](25),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](26,"div",50),o["\u0275\u0275elementStart"](27,"div",51),o["\u0275\u0275elementStart"](28,"div",52),o["\u0275\u0275elementStart"](29,"div",53),o["\u0275\u0275text"](30,"Log Id"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"div",54),o["\u0275\u0275text"](32,"Log Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](33,"div",55),o["\u0275\u0275text"](34,"Description"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](35,"div",56),o["\u0275\u0275text"](36,"Subject Type"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](37,"div",57),o["\u0275\u0275text"](38,"Log Date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](39,"div",58),o["\u0275\u0275template"](40,ce,12,8,"div",59),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](41,"mat-tab",60),o["\u0275\u0275elementStart"](42,"mat-card-content"),o["\u0275\u0275elementStart"](43,"div",50),o["\u0275\u0275elementStart"](44,"div",51),o["\u0275\u0275elementStart"](45,"div",52),o["\u0275\u0275elementStart"](46,"div",61),o["\u0275\u0275text"](47,"Role"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](48,"div",62),o["\u0275\u0275text"](49,"Role Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](50,"div",63),o["\u0275\u0275text"](51,"Detail"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](52,"div",64),o["\u0275\u0275text"](53,"Permission"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](54,"div",65),o["\u0275\u0275text"](55,"Actions"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](56,"div",58),o["\u0275\u0275template"](57,me,14,5,"div",59),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](8),t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngModel",t.updateUser.name)("disabled",!t.checkMyRight("create-user")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",t.updateUser.email)("disabled",t.selectedUser.email==t.currentUserEmail||!t.checkMyRight("create-user")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",t.updateUser.password)("disabled",!t.checkMyRight("create-user")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("disabled",!e.form.valid||!t.checkMyRight("create-user")),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate1"]("Last 200 Activity performed by ",t.selectedUser.name,""),o["\u0275\u0275advance"](15),o["\u0275\u0275property"]("ngForOf",t.selectedUser.activity),o["\u0275\u0275advance"](17),o["\u0275\u0275property"]("ngForOf",t.selectedUser.roles)}}function ue(e,t){1&e&&o["\u0275\u0275element"](0,"div",39)}const ge=function(e,t){return{"side-panel-opened":e,"side-panel-closed":t}};let be=(()=>{class e{constructor(e,t,n,a,r){this.store=e,this.updates$=t,this.dialog=n,this.sessionService=a,this.snackBar=r,this.sidePanelOpened=!0,this.users=[],this.selectedUser=null,this.destroySubject$=new k.a,this.updateUser=null}ngOnInit(){this.storagePath=y.a.storageUrl,this.store.dispatch(new c),this.updates$.pipe(Object(s.d)("[Admin] GET_USERS_SUCCESS"),Object(P.a)(this.destroySubject$)).subscribe(()=>{this.store.select(e=>e.Admin.users).pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.users=e})}),this.store.select(e=>e.UserState.user.email).pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>this.currentUserEmail=e)}onAddRole(){this.dialog.open(F,{width:"95%",height:"60%",maxHeight:"95%",data:this.selectedUser}).componentInstance.onAdd.subscribe(e=>{this.updates$.pipe(Object(s.d)("[Admin] ASSIGN_ROLE_SUCCESS"),Object(P.a)(this.destroySubject$)).subscribe(()=>{this.openSnackBar("Role Added to User!"),this.store.select(e=>e.Admin.users).pipe(Object(P.a)(this.destroySubject$)).subscribe(t=>{t.forEach(t=>{t.id===e.user_id&&(this.selectedUser=t)})})})})}onRemoveRole(e,t){this.store.dispatch(new b({user_id:this.selectedUser.id,role_id:e})),this.updates$.pipe(Object(s.d)("[Admin] REMOVE_ROLE_SUCCESS"),Object(P.a)(this.destroySubject$)).subscribe(()=>{this.openSnackBar("Role Removed from User!"),this.store.select(e=>e.Admin.users).pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{e.forEach(e=>{e.id===t&&(this.selectedUser=e)})})})}onAddUser(){this.dialog.open(G,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.updates$.pipe(Object(s.d)("[Admin] CREATE_USER_SUCCESS"),Object(P.a)(this.destroySubject$)).subscribe(()=>{this.openSnackBar("User Created!")})})}checkRight(e,t){let n=!1;return t.roles.forEach(t=>{t.name===e&&(n=!0)}),n}isOver(){return window.matchMedia("(max-width: 960px)").matches}onSelect(e){this.selectedUser=e,this.updateUser=new l(this.selectedUser.name,this.selectedUser.email,null),this.updateUser.id=this.selectedUser.id}onUpdateProfile(){this.store.dispatch(new v(this.updateUser)),this.updates$.pipe(Object(s.d)("[Admin] UPDATE_USER_SUCCESS"),Object(P.a)(this.destroySubject$)).subscribe(()=>{this.openSnackBar("User Data Updated!"),this.store.select(e=>e.Admin.users).subscribe(e=>{this.users=e})})}openSnackBar(e,t="close"){this.snackBar.open(e,t,{duration:1e3})}ngOnDestroy(){this.destroySubject$.next()}checkMyRight(e){return!!this.sessionService.checkRole("ticker-editor")||!!this.sessionService.checkRole("news-editor")}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](j.h),o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](C.b),o["\u0275\u0275directiveInject"](z.a),o["\u0275\u0275directiveInject"](D.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user"]],decls:32,vars:13,consts:[["fxLayout","row","fxLayoutAlign","center start"],["fxFlex.gt-md","100","fxFlex.gt-sm","100","fxFlex","100"],[1,"mat-card-top"],[3,"ngClass"],[3,"mode","opened","open","close"],["chatnav",""],["color","primary",1,"no-shadow"],["fxLayout","row","fxFlex","100"],[1,"m-t-0","font-14"],["mat-icon-button","",1,"mr-1"],["mat-mini-fab","","color","basic","align","end","matTooltip","Add User","matTooltipPosition","below",1,"mr-1",3,"disabled","click"],[4,"ngIf"],["color","warn",1,"bg-success","no-shadow","chat-right-panel"],["fxLayout","row","fxFlex","100","fxLayoutAlign","center center"],["mat-icon-button","",1,"mr-1",3,"click"],["class","top-avatar m-r-10",4,"ngIf"],["fxFlex",""],["class","font-14",4,"ngIf"],[1,"chat-middle-box"],["style","min-height: 500px;",4,"ngIf"],[1,"chat-footer"],["align","end"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"background-color","click",4,"ngFor","ngForOf"],[3,"click"],["color","basic",4,"ngIf"],["color","primary",4,"ngIf"],["class","label-light-warning",4,"ngIf"],["color","warn",4,"ngIf"],["matLine",""],["matLine","",1,"text-muted"],["color","basic"],["color","primary"],[1,"label-light-warning"],["color","warn"],[1,"top-avatar","m-r-10"],["class","img-circle",3,"src",4,"ngIf"],[1,"img-circle",3,"src"],[1,"font-14"],[2,"min-height","500px"],["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","100","fxFlex.gt-md","100","fxFlex.gt-xs","100","fxFlex","100"],["label","Profile"],[1,"basic-form"],["profileForm","ngForm"],["fxFlex.gt-sm","100","fxFlex","100"],["matInput","","placeholder","Name","required","","name","profileName",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Email","required","","type","email","name","profileEmail",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Password","type","password","name","profilePassword",3,"ngModel","disabled","ngModelChange"],["label","Activity"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-log_id"],[1,"header__item","column-log_name"],[1,"header__item","column-description"],[1,"header__item","column-subject"],[1,"header__item","column-date"],[1,"table-content"],["class","table-row",4,"ngFor","ngForOf"],["label","Roles & Permissions"],[1,"header__item","column-role"],[1,"header__item","column-name"],[1,"header__item","column-detail"],[1,"header__item","column-permission"],[1,"header__item","column-actions"],[1,"table-row"],[1,"table-data","column-log_id"],[1,"table-data","column-log_name"],["matTooltipPosition","below",1,"table-data","column-description"],["matTooltipPosition","below",1,"table-data","column-subject"],[1,"table-data","column-date"],[1,"table-data","column-role"],[1,"table-data","column-name"],["matTooltipPosition","below",1,"table-data","column-detail"],["matTooltipPosition","below",1,"table-data","column-permissions"],["color","primary",4,"ngFor","ngForOf"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Role","matTooltipPosition","below",3,"disabled","click"],["aria-label","Edit"]],template:function(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"mat-card",2),o["\u0275\u0275elementStart"](3,"mat-sidenav-container",3),o["\u0275\u0275elementStart"](4,"mat-sidenav",4,5),o["\u0275\u0275listener"]("open",(function(){return t.sidePanelOpened=!0}))("close",(function(){return t.sidePanelOpened=!1})),o["\u0275\u0275elementStart"](6,"mat-toolbar",6),o["\u0275\u0275elementStart"](7,"div",7),o["\u0275\u0275elementStart"](8,"span",8),o["\u0275\u0275elementStart"](9,"button",9),o["\u0275\u0275elementStart"](10,"mat-icon"),o["\u0275\u0275text"](11,"contacts"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](12," Users "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"button",10),o["\u0275\u0275listener"]("click",(function(){return t.onAddUser()})),o["\u0275\u0275elementStart"](14,"mat-icon"),o["\u0275\u0275text"](15,"person_add"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](16,re,2,1,"mat-nav-list",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"mat-toolbar",12),o["\u0275\u0275elementStart"](18,"div",13),o["\u0275\u0275elementStart"](19,"button",14),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275reference"](5).toggle()})),o["\u0275\u0275elementStart"](20,"mat-icon"),o["\u0275\u0275text"](21,"short_text"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](22,le,3,2,"span",15),o["\u0275\u0275elementStart"](23,"div",16),o["\u0275\u0275template"](24,se,2,1,"div",17),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"mat-card-content",18),o["\u0275\u0275template"](26,pe,58,10,"div",19),o["\u0275\u0275template"](27,ue,1,0,"div",19),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"mat-card-actions",20),o["\u0275\u0275elementStart"](29,"div",21),o["\u0275\u0275elementStart"](30,"button",22),o["\u0275\u0275listener"]("click",(function(){return t.onAddRole()})),o["\u0275\u0275text"](31,"Assign Role"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction2"](10,ge,t.sidePanelOpened,!t.sidePanelOpened)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("mode",t.isOver()?"over":"side")("opened",!t.isOver()),o["\u0275\u0275advance"](9),o["\u0275\u0275property"]("disabled",!t.checkMyRight("create-user")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",0!==t.users.length),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngIf",t.selectedUser),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.selectedUser),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.selectedUser),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.selectedUser),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("disabled",!t.selectedUser||!t.checkMyRight("create-user")))},directives:[R.d,R.c,R.b,B.a,q.b,a.n,W.a,q.a,H.a,U.b,I.a,A.a,a.p,B.d,B.b,Y.h,a.o,Y.d,K.k,J.b,J.a,N["\u0275angular_packages_forms_forms_y"],N.NgControlStatusGroup,N.NgForm,$.c,V.b,N.DefaultValueAccessor,N.RequiredValidator,N.NgControlStatus,N.NgModel,B.h,X.c,X.a],pipes:[a.f],styles:['.ngx-datatable.datatable-body.datatable-row-wrapper.datatable-body-row.datatable-row-group.datatable-body-cell[_ngcontent-%COMP%]   .ngx-datatable[_ngcontent-%COMP%]{padding:2px;font-family:Courier New,Courier,monospace}.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 15%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%], .column-permissions[_ngcontent-%COMP%]{flex:0 0 30%;font-size:12px}.column-permissions[_ngcontent-%COMP%]{text-align:center}.column-actions[_ngcontent-%COMP%]{flex:0 0 10%}.column-log_id[_ngcontent-%COMP%]{flex:0 0 10%}.column-log_id[_ngcontent-%COMP%], .column-log_name[_ngcontent-%COMP%]{font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-log_name[_ngcontent-%COMP%]{flex:0 0 20%}.column-description[_ngcontent-%COMP%], .column-subject[_ngcontent-%COMP%]{flex:0 0 25%;font-size:12px}.column-date[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px}']}),e})();var fe=n("mhfV");let he=(()=>{class e{constructor(e){this.http=e,this.apiUrl=y.a.apiUrl}getListTemplates(){return this.http.get(this.apiUrl+"management-console/news/list-templates")}getListGenTime(){return this.http.get(this.apiUrl+"management-console/news/list-templates/time")}enableListTemplate(e){return this.http.put(this.apiUrl+"management-console/news/list-templates/enable",e)}disableListTemplate(e){return this.http.put(this.apiUrl+"management-console/news/list-templates/disable",e)}setSettingsKey(e){return this.http.put(this.apiUrl+"management-console/settings/set",e)}createListTemplate(e){return this.http.post(this.apiUrl+"management-console/news/list-templates/create",e)}deleteListTemplate(e){return this.http.delete(this.apiUrl+"management-console/news/list-templates/"+e)}getBreakers(){return this.http.get(this.apiUrl+"management-console/news/breakers/manage/get")}createBreaker(e){return this.http.post(this.apiUrl+"management-console/news/breakers/manage/create",e)}deleteBreakers(e){return this.http.delete(this.apiUrl+"management-console/news/breakers/manage/delete/"+e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](w.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class xe{constructor(){this.list_name=""}}class _e{constructor(){}}let Se=(()=>{class e{constructor(e,t,n,a,r){this.dialogRef=e,this.data=t,this.store=n,this.userService=a,this.updates$=r,this.onAdd=new o.EventEmitter,this.template=new xe}ngOnInit(){this.template.enabled=!0}addTemplate(){this.onAdd.emit(this.template),this.dialogRef.close(!0)}closeDialog(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](C.g),o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](j.h),o["\u0275\u0275directiveInject"](M),o["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["add-news-list-template-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","templateName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"h3",0),o["\u0275\u0275text"](1,"Add News List Template"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"form",1,2),o["\u0275\u0275elementStart"](4,"div",3),o["\u0275\u0275elementStart"](5,"div",4),o["\u0275\u0275elementStart"](6,"div",5),o["\u0275\u0275elementStart"](7,"mat-form-field",6),o["\u0275\u0275elementStart"](8,"mat-label"),o["\u0275\u0275text"](9,"Template Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"input",7),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.template.list_name=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",8),o["\u0275\u0275elementStart"](12,"button",9),o["\u0275\u0275listener"]("click",(function(){return t.closeDialog(!0)})),o["\u0275\u0275text"](13,"Cancel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"button",10),o["\u0275\u0275listener"]("click",(function(){return t.addTemplate()})),o["\u0275\u0275text"](15,"Add Template"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275reference"](3);o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("ngModel",t.template.list_name),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("disabled",!e.form.valid)}},directives:[C.h,N["\u0275angular_packages_forms_forms_y"],N.NgControlStatusGroup,N.NgForm,C.e,R.d,R.b,$.c,$.g,V.b,N.DefaultValueAccessor,N.RequiredValidator,N.NgControlStatus,N.NgModel,C.c,U.b],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),e})();var ve=n("l8SP");function Ee(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",23),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"]().enable(t.id)})),o["\u0275\u0275elementStart"](1,"mat-icon",24),o["\u0275\u0275text"](2,"check_circle"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function Oe(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",25),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"]().disable(t.id)})),o["\u0275\u0275elementStart"](1,"mat-icon",24),o["\u0275\u0275text"](2,"do_not_disturb_on"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function Ce(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"div",17),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",18),o["\u0275\u0275elementStart"](4,"button",19),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"]().onDeleteTemplate(n.id)})),o["\u0275\u0275elementStart"](5,"mat-icon",20),o["\u0275\u0275text"](6,"clear"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,Ee,3,0,"button",21),o["\u0275\u0275template"](8,Oe,3,0,"button",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;o["\u0275\u0275classMapInterpolate1"]("table-row status_",e.enabled,""),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.list_name),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",!e.enabled),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.enabled)}}let ye=(()=>{class e{constructor(e,t,n){this.adminNewsService=e,this.dialog=t,this.snackBar=n,this.templates=[],this.generationTime=new _e,this.destroySubject$=new k.a}ngOnInit(){this.generationTime.key="list_generation_time",this.adminNewsService.getListTemplates().pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>this.templates=e),this.adminNewsService.getListGenTime().pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>this.generationTime.value=e.value)}enable(e){this.adminNewsService.enableListTemplate({template_id:e}).pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.templates=e})}disable(e){this.adminNewsService.disableListTemplate({template_id:e}).pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.templates=e})}updateTime(){this.adminNewsService.setSettingsKey(this.generationTime).pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.generationTime=e,this.openSnackBar("List Generations Time updated!")})}onAddTemplate(){this.dialog.open(Se,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.adminNewsService.createListTemplate(e).pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.templates=e})})}onDeleteTemplate(e){let t=this.dialog.open(ve.a,{width:"350px",data:{title:"Delete News List Template",message:"Are you sure you want to delete this Template?"}});t.afterClosed().pipe(Object(P.a)(this.destroySubject$)).subscribe(n=>{t=null,n&&this.adminNewsService.deleteListTemplate(e).pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.templates=e})})}openSnackBar(e,t="close"){this.snackBar.open(e,t,{duration:1e3})}ngOnDestroy(){this.destroySubject$.next()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](he),o["\u0275\u0275directiveInject"](C.b),o["\u0275\u0275directiveInject"](D.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-list"]],decls:35,vars:2,consts:[["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","85","fxFlex.gt-md","75","fxFlex.gt-xs","100","fxFlex","100"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-name"],[1,"header__item","column-actions"],[1,"table-content"],[3,"class",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","color","accent",3,"click"],["fxFlex.gt-lg","15","fxFlex.gt-md","25","fxFlex.gt-xs","100","fxFlex","100"],[1,"oh"],["fxFlex.gt-md","100","fxFlex","100"],["appearance","outline"],["matInput","","placeholder","News List Generation Time","required","","name","ListTime",3,"ngModel","ngModelChange"],["ListTime",""],[1,"table-data","column-name"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Template","matTooltipPosition","below",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","basic","matTooltip","Enable Template","matTooltipPosition","below",3,"click",4,"ngIf"],["mat-icon-button","","color","warn","matTooltip","Disable Template","matTooltipPosition","below",3,"click",4,"ngIf"],["mat-icon-button","","color","basic","matTooltip","Enable Template","matTooltipPosition","below",3,"click"],["aria-label","Approve"],["mat-icon-button","","color","warn","matTooltip","Disable Template","matTooltipPosition","below",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"mat-card"),o["\u0275\u0275elementStart"](3,"mat-card-content"),o["\u0275\u0275elementStart"](4,"mat-card-title"),o["\u0275\u0275text"](5,"List Templates"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"mat-card-subtitle"),o["\u0275\u0275text"](7,"News Lists to be generated everyday"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",2),o["\u0275\u0275elementStart"](9,"div",3),o["\u0275\u0275elementStart"](10,"div",4),o["\u0275\u0275elementStart"](11,"div",5),o["\u0275\u0275text"](12,"List Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",6),o["\u0275\u0275text"](14,"Actions"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"div",7),o["\u0275\u0275template"](16,Ce,9,6,"div",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"mat-card-actions",9),o["\u0275\u0275elementStart"](18,"button",10),o["\u0275\u0275listener"]("click",(function(){return t.onAddTemplate()})),o["\u0275\u0275text"](19,"Add a Template"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"div",11),o["\u0275\u0275elementStart"](21,"mat-card",12),o["\u0275\u0275elementStart"](22,"mat-card-content"),o["\u0275\u0275elementStart"](23,"p"),o["\u0275\u0275text"](24," News Lists generation time "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"div",0),o["\u0275\u0275elementStart"](26,"div",13),o["\u0275\u0275elementStart"](27,"mat-form-field",14),o["\u0275\u0275elementStart"](28,"mat-label"),o["\u0275\u0275text"](29,"Time"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](30,"input",15,16),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.generationTime.value=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](32,"mat-card-actions",9),o["\u0275\u0275elementStart"](33,"button",10),o["\u0275\u0275listener"]("click",(function(){return t.updateTime()})),o["\u0275\u0275text"](34,"Update Time"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](16),o["\u0275\u0275property"]("ngForOf",t.templates),o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("ngModel",t.generationTime.value))},directives:[R.d,R.b,B.a,B.d,B.i,B.h,a.o,B.b,U.b,$.c,$.g,V.b,N.DefaultValueAccessor,N.RequiredValidator,N.NgControlStatus,N.NgModel,A.a,I.a,a.p],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee;margin-bottom:20px}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.table-row.status_0[_ngcontent-%COMP%]{background-color:rgba(255,127,159,.1)}.table-row[_ngcontent-%COMP%]:hover.status_0{background-color:rgba(255,127,159,.4)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%]{flex:0 0 85%;font-size:12px;font-family:Verdana,Geneva,Tahoma,sans-serif;text-align:left}.column-actions[_ngcontent-%COMP%]{flex:0 0 15%}']}),e})(),we=(()=>{class e{constructor(e,t,n,a,r){this.dialogRef=e,this.data=t,this.store=n,this.userService=a,this.updates$=r,this.onAdd=new o.EventEmitter,this.breaker=new fe.d}ngOnInit(){}addBreaker(){this.onAdd.emit(this.breaker),this.dialogRef.close(!0),console.log(JSON.stringify(this.breaker))}closeDialog(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](C.g),o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](j.h),o["\u0275\u0275directiveInject"](M),o["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["add-news-breaker-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],[1,"basic-form"],["userForm","ngForm"],["mat-dialog-content",""],["fxLayout","row","fxLayoutWrap","wrap",2,"margin-top","20px"],["fxFlex.gt-sm","100","fxFlex","100"],["appearance","outline"],["matInput","","mat-autosize","","required","","name","templateName",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","color","basic",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"h3",0),o["\u0275\u0275text"](1,"Add News Breaker"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"form",1,2),o["\u0275\u0275elementStart"](4,"div",3),o["\u0275\u0275elementStart"](5,"div",4),o["\u0275\u0275elementStart"](6,"div",5),o["\u0275\u0275elementStart"](7,"mat-form-field",6),o["\u0275\u0275elementStart"](8,"mat-label"),o["\u0275\u0275text"](9,"Breaker Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"input",7),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.breaker.news_name=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",8),o["\u0275\u0275elementStart"](12,"button",9),o["\u0275\u0275listener"]("click",(function(){return t.closeDialog(!0)})),o["\u0275\u0275text"](13,"Cancel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"button",10),o["\u0275\u0275listener"]("click",(function(){return t.addBreaker()})),o["\u0275\u0275text"](15,"Add Breaker"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275reference"](3);o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("ngModel",t.breaker.news_name),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("disabled",!e.form.valid)}},directives:[C.h,N["\u0275angular_packages_forms_forms_y"],N.NgControlStatusGroup,N.NgForm,C.e,R.d,R.b,$.c,$.g,V.b,N.DefaultValueAccessor,N.RequiredValidator,N.NgControlStatus,N.NgModel,C.c,U.b],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.role_assigned[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.role_assigned{background-color:rgba(127,255,212,.7)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%], .column-role[_ngcontent-%COMP%]{flex:0 0 20%;font-size:12px;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif}.column-detail[_ngcontent-%COMP%]{flex:0 0 40%;font-size:12px}.column-actions[_ngcontent-%COMP%]{flex:0 0 20%}']}),e})();function Me(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",11),o["\u0275\u0275elementStart"](1,"div",12),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",13),o["\u0275\u0275elementStart"](4,"button",14),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"]().onDeleteBreaker(n.id)})),o["\u0275\u0275elementStart"](5,"mat-icon",15),o["\u0275\u0275text"](6,"clear"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.news_name)}}const ke=[{path:"",children:[{path:"admin-dashboard",component:i,data:{role:"admin"}},{path:"user-console",component:be,data:{role:"admin"}},{path:"news-settings/list",component:ye,data:{role:"admin"}},{path:"news-settings/breakers",component:(()=>{class e{constructor(e,t,n){this.adminNewsService=e,this.dialog=t,this.snackBar=n,this.destroySubject$=new k.a}ngOnInit(){this.adminNewsService.getBreakers().subscribe(e=>{this.breakers=e})}onAddBreaker(){this.dialog.open(we,{width:"40%",height:"auto",maxHeight:"95%"}).componentInstance.onAdd.pipe(Object(P.a)(this.destroySubject$)).subscribe(e=>{this.adminNewsService.createBreaker(e).subscribe(e=>{this.breakers=e})})}onDeleteBreaker(e){let t=this.dialog.open(ve.a,{width:"350px",data:{title:"Delete News Breaker",message:"Are you sure you want to delete this Breaker?"}});t.afterClosed().pipe(Object(P.a)(this.destroySubject$)).subscribe(n=>{t=null,n&&this.adminNewsService.deleteBreakers(e).subscribe(e=>{this.breakers=e})})}ngOnDestroy(){this.destroySubject$.next()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](he),o["\u0275\u0275directiveInject"](C.b),o["\u0275\u0275directiveInject"](D.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-news-breakers"]],decls:18,vars:1,consts:[["fxLayout","row","fxLayoutWrap","wrap"],["fxFlex.gt-lg","85","fxFlex.gt-md","75","fxFlex.gt-xs","100","fxFlex","100"],[1,"table-rasponsive"],[1,"table"],[1,"table-header"],[1,"header__item","column-name"],[1,"header__item","column-actions"],[1,"table-content"],["class","table-row",4,"ngFor","ngForOf"],["align","end"],["mat-raised-button","","color","accent",3,"click"],[1,"table-row"],[1,"table-data","column-name"],[1,"table-data","column-actions"],["mat-icon-button","","color","warn","matTooltip","Remove Template","matTooltipPosition","below",3,"click"],["aria-label","Edit"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"mat-card"),o["\u0275\u0275elementStart"](3,"mat-card-content"),o["\u0275\u0275elementStart"](4,"mat-card-title"),o["\u0275\u0275text"](5,"News Breakers"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",2),o["\u0275\u0275elementStart"](7,"div",3),o["\u0275\u0275elementStart"](8,"div",4),o["\u0275\u0275elementStart"](9,"div",5),o["\u0275\u0275text"](10,"Breaker Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",6),o["\u0275\u0275text"](12,"Actions"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",7),o["\u0275\u0275template"](14,Me,7,1,"div",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"mat-card-actions",9),o["\u0275\u0275elementStart"](16,"button",10),o["\u0275\u0275listener"]("click",(function(){return t.onAddBreaker()})),o["\u0275\u0275text"](17,"Add Breaker"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("ngForOf",t.breakers))},directives:[R.d,R.b,B.a,B.d,B.i,a.o,B.b,U.b,A.a,I.a],styles:['.table[_ngcontent-%COMP%]{width:100%;border:0 solid #eee;margin-bottom:20px}.table-header[_ngcontent-%COMP%]{padding:10px 0;font-size:12px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;width:100%;border-bottom:1px solid #eee}.table-row[_ngcontent-%COMP%]{padding-left:10px 0;transition:all .2s ease-in-out}.table-row[_ngcontent-%COMP%]:hover{background-color:rgba(97,97,97,.068)}.table-row.status_breaker[_ngcontent-%COMP%]{background-color:rgba(127,255,212,.2)}.table-row[_ngcontent-%COMP%]:hover.status_breaker{background-color:rgba(127,255,212,.7)}.table-row.status_0[_ngcontent-%COMP%]{background-color:rgba(255,127,159,.1)}.table-row[_ngcontent-%COMP%]:hover.status_0{background-color:rgba(255,127,159,.4)}.header__item[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]{flex:1 1 20%;text-align:center;padding:5px}.header__item[_ngcontent-%COMP%]{text-transform:uppercase;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px}.filter__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:relative;display:inline-block;padding-left:24px;padding-right:24px}.filter__link[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-18px;color:#fff;font-size:12px;top:50%;transform:translateY(-50%)}.filter__link.desc[_ngcontent-%COMP%]:after{content:"(desc)"}.filter__link.asc[_ngcontent-%COMP%]:after{content:"(asc)"}.column-name[_ngcontent-%COMP%]{flex:0 0 85%;font-size:12px;font-family:Verdana,Geneva,Tahoma,sans-serif;text-align:left}.column-actions[_ngcontent-%COMP%]{flex:0 0 15%}']}),e})(),data:{role:"admin"}}]}];var Pe=n("PCNd"),je=n("onrN"),Re=n("YUcS"),Ue=n("bFKe"),Ae=n("9Ejp"),Ie=n("lDzL");const Te={isLoaded:!1,users:[]};function Le(e=Te,t){switch(t.type){case"[Admin] GET_USERS":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] GET_USERS_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] ASSIGN_ROLE":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] ASSIGN_ROLE_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] REMOVE_ROLE":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] REMOVE_ROLE_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] CREATE_USER":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] CREATE_USER_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] UPDATE_USER":return Object.assign(Object.assign({},e),{isLoaded:!1});case"[Admin] UPDATE_USER_SUCCESS":return Object.assign(Object.assign({},e),{users:t.payload,isLoaded:!0});case"[Admin] GET_USERS_ERROR":return Object.assign(Object.assign({},e),{isLoaded:!0});default:return e}}Object(j.o)("Admin");var Fe=n("5+tZ"),Ne=n("lJxs"),$e=n("JIr8"),Ve=n("LRne"),Ge=n("HDdC"),ze=function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},De=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Be=(()=>{class e{constructor(e,t){this.actions$=e,this.userService=t,this.GetMyNews$=this.actions$.pipe(Object(s.d)("[Admin] GET_USERS"),Object(Fe.b)(e=>this.userService.getUsers().pipe(Object(Ne.a)(e=>new d(e)),Object($e.a)(()=>Object(Ve.a)(new m))))),this.AssignRole$=this.actions$.pipe(Object(s.d)("[Admin] ASSIGN_ROLE"),Object(Fe.b)(e=>this.userService.assignRole({user_id:e.payload.user_id,role_id:e.payload.role_id}).pipe(Object(Ne.a)(e=>(console.log(e),new u(e))),Object($e.a)(()=>Object(Ve.a)(new g))))),this.RemoveRole$=this.actions$.pipe(Object(s.d)("[Admin] REMOVE_ROLE"),Object(Fe.b)(e=>this.userService.removeRole({user_id:e.payload.user_id,role_id:e.payload.role_id}).pipe(Object(Ne.a)(e=>(console.log(e),new f(e))),Object($e.a)(()=>Object(Ve.a)(new h))))),this.CreateUser$=this.actions$.pipe(Object(s.d)("[Admin] CREATE_USER"),Object(Fe.b)(e=>this.userService.createUser(e.payload).pipe(Object(Ne.a)(e=>(console.log(e),new _(e))),Object($e.a)(()=>Object(Ve.a)(new S))))),this.UpdateUser$=this.actions$.pipe(Object(s.d)("[Admin] UPDATE_USER"),Object(Fe.b)(e=>this.userService.updateUser(e.payload).pipe(Object(Ne.a)(e=>(console.log(e),new E(e))),Object($e.a)(()=>Object(Ve.a)(new O)))))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](s.a),o["\u0275\u0275inject"](M))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),ze([Object(s.b)(),De("design:type",Ge.a)],e.prototype,"GetMyNews$",void 0),ze([Object(s.b)(),De("design:type",Ge.a)],e.prototype,"AssignRole$",void 0),ze([Object(s.b)(),De("design:type",Ge.a)],e.prototype,"RemoveRole$",void 0),ze([Object(s.b)(),De("design:type",Ge.a)],e.prototype,"CreateUser$",void 0),ze([Object(s.b)(),De("design:type",Ge.a)],e.prototype,"UpdateUser$",void 0),e})(),qe=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,r.j.forChild(ke),N.FormsModule,je.a,Re.a,Ue.d,Ae.b,Pe.a,Ie.d,j.j.forFeature("Admin",Le),s.c.forFeature([Be])]]}),e})()}}]);